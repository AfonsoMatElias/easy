!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Easy=t()}(window,function(){"use strict";var e,t={},n={stoppropagation:"stopPropagation",preventdefault:"preventDefault"},r=["push","pop","unshift","shift","splice"],i=window,o=i.document,a=o.createElement("a");a.href="http://[::1]";var s="[::1]"===a.hostname;for(var c in o.createElement("input"))c[0]+c[1]==="on"&&(t[c.substr(2)]=!0);var l={cmds:{id:"e-id",order:"e-order",anm:"e-anm",field:"text",req:"e-req",tmp:"e-tmp",fill:"e-fill",build:"e-build",array:"e-array",filter:"e-filter",if:"e-if",show:"e-show",for:"e-for",data:"data",def:"e-def",use:"e-use",toggle:"e-toggle",content:"e-content",skeleton:"e-skeleton"},anm:{to:{up:"to-top",down:"to-bottom",left:"to-left",right:"to-right"},from:{up:"from-top",down:"from-bottom",left:"from-left",right:"from-right"},reverse:function(e){switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left";default:return"none"}}},types:["String","Number","BigInt","Symbol"],events:{compiled:"compiled",add:"add",empty:"empty",response:"response",fail:"fail",data:"data"}},u={delimiter:function(e){return"The command '"+e+"' cannot contain a delimiter in expression value... The value is compiled without a delimiter."},conn:function(){return"No dependency with Id 'Connector' was found... Add the dependency to be able to use this method"},invalid:function(e){return"Invalid value"+(e?" "+e:"")+"."},elem:function(e){return"The selector or object passed for '"+e+"' is invalid, please check it."}},f={obj:function(){var e={};return arguments.keys(function(t,n){g(n)||n.keys(function(t){p(e,n,t)})}),e},addToObj:function(e){return arguments.keys(function(t,n){0!=t&&(g(n)||n.keys(function(t){p(e,n,t)}))}),e},array:function(){var e=[];return arguments.keys(function(t,n){g(n)||(b(n)?[].push.apply(e,n):e.push(n))}),e}};function d(){e=void 0}function h(e,t){return e||(e={}),t||(t={}),t.keys(function(t,n){g(e[t])&&(e[t]=n)}),e}function p(e,t,n){m(e,n,v(t,n))}function m(e,t,n){return Object.defineProperty(e,t,n),e}function v(t,n,r){if(!r)return Object.getOwnPropertyDescriptor(t,n);var i;e=function(){i=arguments};t[n];return d(),{descriptor:Object.getOwnPropertyDescriptor(t,n),config:i?i[1]:null}}function y(e){return e instanceof Object}function b(e){return Array.isArray(e)}function g(e){return void 0===e||null==e}function $(e){return void 0!==e&&"string"==typeof e}function w(e){return!e||0===e.keys().length}function k(e,t,n){if(!e)return[];var r=[].slice.call(e);return t&&C(r,t,n),r}function A(e){return e?e+"":""}function C(e,t,n){if(!e||!e.length)return[];var r,i=e.length,o=[];for(r=0;r<i;r++)t.call(n,e[r],r)&&o.push(e[r]);return o}function O(e){return e?e.trim():e}function N(e){return e.$e||(e.$e={}),e}function j(e,t){var n={};return e&&e.keys(function(e,r){typeof r===t&&(n[e]=r)}),n}function I(e){if(!$(e))return e;var t=e;o.documentMode&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t);var n=a.hostname;!s&&n.indexOf(":")>-1&&(n="["+n+"]");var r={href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:n,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname,anchor:a};return r.origin=r.protocol+"://"+r.host,r.hrefb=r.href?a.baseURI+a.href.substr(a.origin.length+1):a.baseURI,r}function E(e){if(g(e))return null;var t=o.createElement("body");return t.innerHTML=e,t.children[0]}function T(e,t){if(!e)return x.log("[BadDefinition]: Invalid url");var n={};(t||{}).keys(function(e,t){n[e]=t}),!n.method||n.method;var r=function(e){if(!(!o.documentMode||e.match(/^(get|post|head|put|delete|options)$/i)&&window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw{message:"This browser does not support XMLHttpRequest."}}(n.method);return n.url=e,n.timeout=n.timeout||12e4,new Promise(function(i,o){r.open(n.method,n.url,n.async||!0),r.timeout=n.timeout,(t.headers||{}).keys(function(e,t){t&&r.setRequestHeader(e,t)}),r.onload=function(){var t=r.statusText||"",i="response"in r?r.response:r.responseText,o=1223===r.status?204:r.status;0===o&&(o=i?200:"file"===I(e).protocol?404:0),n.ok=o>=200&&o<400,n.status=o,a(o,i,r.getAllResponseHeaders(),t,"complete")};var a=function(e,t,o,a,s){r=null,n.response=t,n.responseHeaders=o,n.statusText=a,n.statusMessage=s,i(n)};r.onerror=function(){a(-1,null,null,"","error")},r.onabort=function(){a(-1,null,null,"","abort")},r.ontimeout=function(){a(-1,null,null,"","timeout")},n.withCredentials&&(r.withCredentials=!0),n.type=n.type||"";try{r.responseType=n.type}catch(e){if("json"!==n.type)throw e}return r.send(t.body||null),n})}function x(a,s){if(!(this instanceof x))return x.log("[BadDefinition]: Easy is a constructor and should be called with the 'new' keyword."),this;this.name="Easy",this.version="2.3.0",this.data={},this.dependencies={};var c,A=this,D={},P={},_={},M={},B={background:"#E2E2E2",wave:"#ffffff5d"},R=new function(){this.empty=function(){},this.eval=function(e,t,n,r){if(t||(t={}),!g(e)&&""!==e){(g(n)||!0===n)&&(e="this.$return="+e);try{R.spreadData(function(){Function(e).apply(A,r)},t)}catch(e){x.log({message:e.message,scope:t})}var i=A.$return;return delete A.$return,i}},this.exec=function(e,t,n){try{g(n)&&(n=!1);var r=R.eval(e,t);return g(r)?"":(n&&y(r)&&(r=JSON.stringify(r)),r)}catch(e){return""}},this.attr=function(e,t,n){if(e&&t&&(g(n)&&(n=!1),!g(e.attributes))){for(var r,i=0;i<t.length&&!(r=e.attributes[t[i]]);i++);return r&&n&&e.removeAttribute(r.name),r}},this.spreadData=function(e,t){var n=[],r={},o={};y(t)&&(n=t.keys());try{C(n,function(e){i.hasOwnProperty(e)&&(!0===v(i,e).configurable?p(r,i,e):o[e]=i[e]),o.hasOwnProperty(e)?i[e]=t[e]:p(i,t,e)}),e.call(A)}catch(e){throw e}finally{o.keys(function(e,n){t[e]!==i[e]&&(t[e]=i[e]),i[e]=n}),C(n,function(e){o.hasOwnProperty(e)||delete i[e]}),C(Object.keys(r),function(e){p(i,r,e)})}}},V=Object.create(x.prototype);this.__proto__=V,this.__proto__.NOREACTIVE=!0;var q=[{name:"easy",delimiter:{open:"-e-",close:"-"}},{name:"common",delimiter:{open:"{{",close:"}}"}},{name:"html",delimiter:{open:"{html{",close:"}}"}}];(s=h(s,{config:{},data:{},components:{},mounted:R.empty,loaded:R.empty,dependencies:[]})).data=h(s.data,{}),s.components=h(s.components,{elements:{},config:{}}),s.components.config=h(s.components.config,{usehash:!0,keepData:!1,preload:!1}),s.config=h(s.config,{deepIgnore:!1,rerenderOnArrayChange:!1,log:!0,useDOMLoadEvent:!0,skeleton:{background:"#E2E2E2",wave:"#ffffff5d"}}),B=f.obj(s.config.skeleton),c=s.components.config,this.delimiters=Object.freeze(q),this.options=s,x.log=function(e,t){return t||(t="error"),A.options.config.log&&console[t]("[Easy "+t+"]",L(e,t)),g(A.emit)||A.emit("log",{type:t,message:e}),e},g(s.components.config.base)||x.log('The property component.config.`base` is deprecated, use only the <base href="..."/> element at the top of the <head> children.',"warn");var S=new function(e){var t=this;this.$$delimiters=e.$$delimiters,this.$handleWatches=e.$handleWatches,this.observer={mutation:function(e){return new MutationObserver(function(n){C(n,function(n){C(n.addedNodes,function(t){if(!(t.aboveMe&&t.hasAttribute("e-ignore")||!0===A.options.config.deepIgnore&&t.aboveMe&&t.aboveMe("[e-ignore]")||t.$prevent)){switch(t.nodeName){case"#comment":case"SCRIPT":case"#text":case"STYLE":return}(H.isInc(t)||t.hasAttribute&&t.hasAttribute("e-compile"))&&e(t)}}),n.removedNodes.length&&(k(P.keys(),function(e){var t=P[e];"many"===t.$type?!1===t.$el.$e.com.isConnected&&delete P[e]:!1===t.$el.isConnected&&delete P[e]}),k(t.$handleWatches,function(e,n){!1===e.el.isConnected&&(t.$handleWatches.splice(n,1),e.watch.destroy())}))})})}},this.com={create:function(e,t){t||(t={});var n=N(o.createComment("e"));return n.easy=!0,n.$id=e||A.code(8),t.keys(function(e,t){n[e]=t}),n},get:function(e,n){if(!g(n))return t.com.getAll(e,n).findOne(function(e){return e.$id===n})},getAll:function(e,t){if(!e)return[];for(var n,r=o.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},!1),i=[];n=r.nextNode();)n.$id!==t&&void 0!==t||i.push(n);return i}},this.cmd={for:function(e){var n=e.el,r=e.array,i=e.comment,o=e.data;try{var a=l.cmds.for,s=R.attr(n,[a]);if(t.getDelimiters(s.value).length>0)return void x.log(u.delimiter(l.cmds.for));if(!r)return void x.log({message:"It seems like the array defined in e-for has invalid value",elem:n,expression:s.value});var c=t.cmd.for.read(n);if(!i){var d=n.aId=A.code(10);i=t.com.create(d,{$tmp:n}),n.$e.com=i,n.aboveMe().replaceChild(i,n)}var h=j(o,"function");function p(r){C(r,function(s,u){var d=n.cloneNode(!0),p={};C([a,l.cmds.order],function(e){d.removeAttribute(e)}),d.aId=n.aId,p=t.cmd.for.item({item:s,dec:c.dec,data:o,array:r,index:u,extIndex:e.index});var m=f.addToObj(p,h);Y.compile({el:d,data:m,skipAutoCompile:!0}),Z.emit({elem:d,type:l.events.add,model:p,scope:m}),i.parentNode.insertBefore(d,e.neighbor||i)})}var m=Q({elem:n,data:o,reference:i,array:{value:r},actions:{run:function(){X.retrieveElems(i,!0),p(this.order(this.array))}}});p(m.array),0===m.array.length&&Z.emit({elem:n,type:l.events.empty})}catch(e){return void x.log(e.message)}return i}},this.cmd.for.read=function(e){var t=R.attr(e,[l.cmds.for]);if(!t.value)return{ok:!1,msg:x.log("[BadDefinition]: Invalid expression in e-for")};function n(e,t){var n=e.includes(t);return n?e.split(t):void 0}var r,i,o,a,s,c=n(t.value," of ")||n(t.value," in ")||[t.value],u=1;if(1===c.length?u=0:r=c[0],a=c[u].split("|"),i=a[0],o=a[1],r){var f=r.replaceAll(["(",")"]).split(",");s={first:f[0],sec:f[1]}}return{ok:!0,dec:s,array:O(i),filter:O(o)}},this.cmd.for.item=function(e){var t={},n=e.dec,r=e.item,i=e.data,o=e.array,a=e.index,s=e.extIndex;if(n)Object.defineProperty(t,O(n.first),v(o,a)),g(n.sec)||(t[O(n.sec)]=g(s)?a:s,new U({object:t,property:O(n.sec)})),t=f.addToObj(t,i);else{if(!y(r))throw{message:"The Array shorthand 'e-for=\"myArray\"' only work with object literal, not with primitives."};(t=r).$scope=i}return t},this.getDelimiters=function(e){if(g(e)||""===e)return[];var n=function(e,n){for(var r=0;r<t.$$delimiters.length;r++){var i=t.$$delimiters[r],o=e.match(RegExp(i.delimiter.open+"([\\S\\s]*?)"+i.delimiter.close,n));if(o)return o}},r=n(e,"g");return r?r.map(function(e){var t=n(e);return{field:t[0],exp:O(t[1])}}):[]},this.setNodeValue=function(e,t){var n,r=e.$e.$base,o=e._name||e.nodeName,a=e.$e.$oldValue;if(C(e.$e.$fields,function(e){if(g(n)){var r=R.exec(e.exp,t,!0);e.field.startsWith("{html{")&&(n=r),a=a.replaceAll(e.field,r)}}),n){var s=E(n);return r.innerHTML="",Y.compile({el:s,data:t}),r.appendChild(s)}var c=o.startsWith("e-")&&!l.cmds.hasValue(o),u=o;if(c&&(o=o.substr(2)),o in r)try{if(g(r[o]))r[o]=a;else{var f=r[o].__proto__.constructor.name;if(l.types.indexOf(f)>-1){var d=i[f];r[o]=d.call(null,a)}else switch(O(a)){case"true":r[o]=!0;break;case"false":r[o]=!1;break;default:r[o]=a}}}catch(e){r[o]=a}return e.nodeValue=a,c&&(r.valueIn(o,a),r.removeAttribute(u)),":href"!=o&&"i:href"!=o||r.valueIn("href",ee.normalizeRoute(a)),a},this.initConnectorRequest=function(e,n){var r=l.cmds,i=n||A.data,o=R.attr(e,[r.req],!0);if(o){N(e);var a=O(o.value),s={};if(!a)return x.log({message:u.invalid("e-req"),el:e});if(C(t.getDelimiters(a),function(e){a=a.replaceAll(e.field,R.exec(e.exp,i))}),"{"===a[0]&&"{"!==a[1]?s=R.eval(a,i):(s.$url=a,s.$type="many"),g(s.$url))return x.log({message:"The property `$url` is mandatory in e-req attribute.",el:e});switch(s.$scope=i,s.$type=g(s.$type)?"many":s.$type.toLowerCase(),s.$type){case"many":return A.read(s.$url,s.$id).then(function(t){if(!t.status)return x.log(t.message);!function(t){s.$data=t,new z(s),Z.emit({elem:e,type:l.events.response,model:s.$data,scope:i}),s.$el=e,P[s.$code||"r"+A.code(8)]=s;var n=R.attr(e,[l.cmds.use],!0)||"";n&&(Y.addOldAttr({el:e,value:n}),n=n.value+" of ");var r=R.attr(e,[l.cmds.filter],!0)||"";r&&(Y.addOldAttr({el:e,value:r}),r=" | "+r.value);e.valueIn("e-for",n+"$data"+r),Y.compile({el:e,data:f.addToObj(i,{$data:s.$data})}),c(["$id","$url"])}(t.result)}).catch(function(t){x.log(t),Z.emit({elem:e,type:l.events.fail,result:t})});case"one":return A.getOne(s.$url,s.$id).then(function(t){if(!t.status)return x.log(t.message);!function(t){var n=R.attr(e,[l.cmds.use],!0)||"";n&&(Y.addOldAttr({el:e,value:n}),n=n.value);n?(s.$data={},s.$data[n]=t):s.$data=t;new z(s),Z.emit({elem:e,type:l.events.response,model:s.$data,scope:i}),s.$el=e,P[s.$code||"r"+A.code(8)]=s,Y.compile({el:e,data:f.addToObj(s.$data,i)}),c(["$id"])}(t.result)}).catch(function(t){x.log(t),Z.emit({elem:e,type:l.events.fail,result:t})});default:return x.log({message:"Unknown `$type` in e-req",el:e})}}function c(e){C(e,function(e){var n=A.watch(e,function(){var e=s.$el,r=e.$e.com.parentNode;e&&e.$e.com&&(e.$prevent=!0,C(e.$e.$oldAttrs,function(t){e.valueIn(t.name,t.value)}),"many"===s.$type&&(X.retrieveElems(e.$e.com,!0),e.removeAttribute(l.cmds.for),r.insertBefore(e,e.$e.com),r.removeChild(e.$e.com)),e.valueIn(l.cmds.req,JSON.stringify({$id:s.$id,$url:s.$url,$type:s.$type})),t.initConnectorRequest(e,s.$scope)),n.destroy()},s)})}}}({$$delimiters:q.slice(),$handleWatches:[]}),H=new function(e,t){var n=this;e||(e={});this.requested=[],this.mounted=[],this.loaded=[],this.destroyed=[],this.blocked=[],this.fail=[],this.components={},this.componentRequests={},this.paths={},this.config=t,this.skipNoFunction=function(e,t){var n=!1;k(e,function(t,r){"function"!=typeof t&&(n=!0,e.splice(r,1))}),n&&x.log("[BadDefinition]: All restrictions must be a function! All non-functions have been removed from the '"+t+"' component restriction list. Please reset this or these restrictions.","warn")},this.setComponent=function(e,t){var r={};return e.keys(function(e,i){if(!g(this.paths[e]))return x.log("[BadDefinition]: Cannot redefine the component '"+e+"' ");r[e]=$(i)?{url:i,title:void 0,route:void 0,template:void 0,data:void 0,store:!0}:i,r[e].name=e,r[e].store=!!g(r[e].store)||r[e].store,r[e].data=r[e].data?new z(r[e].data):void 0,r[e].links=[];var o=I(r[e].url).hrefb;o+=o.endsWith(".html")?"":".html",r[e].url=o,g(r[e].restrictions)&&(r[e].restrictions=[]),this.skipNoFunction(r[e].restrictions,e),this.paths[e]=r[e],g(t)||"function"!=typeof t||t.call(this,r[e],e),s.components.config.preload&&this.get({componentKey:e,path:r[e].url,callback:function(e,t){n.components[t.componentKey]={content:e}}}),y(i)&&y(i.children)&&this.setComponent(i.children,function(e,t){e.route=i.route+e.route,r[t]=e})}.bind(this)),r},this.get=function(e){T(e.path,{method:"get",headers:{"Content-Type":"text/plain"}}).then(function(t){if(!t.ok)throw{message:"Unable to load the file: "+e.path+"\nDescription: "+t.statusText+"."};e.callback&&e.callback(t.response,e)}).catch(function(t){e.fail&&e.fail(t,e),x.log(t)})},this.transferAttributes=function(e,t){k(e.attributes,function(n){switch(n.name){case"src":case"inc-src":case"no-replace":case"keep-alive":return;case"class":return k(e.classList,function(e){t.classList.add(e)}),e.removeAttribute(n.name);default:return t.valueIn(n.name,n.value),e.removeAttribute(n.name)}})},this.include=function(e,r){if(g(e))return x.log("[BadDefinition]: Invalid value of attribute element[inc-src] or inc[src] of '"+r.desc()+"'. Or, it's undefined.");if(g(r))return x.log("[BadDefinition]: Invalid element of '"+e+"'. Or, it's undefined.");if(C(n.requested,function(e){e.call(A,r)}),"@"===e[0]){var i=e.substr(1),o=n.components[i];if(!o)return x.log("[NotFound]: No element[inc-tmp] with this identifier '@"+i+"' defined.","warn");var a=E(o.content);return r.hasAttribute("no-replace")?(r.inc=i,r.appendChild(a)):(a.inc=i,r.aboveMe().replaceChild(a,r)),n.transferAttributes(r,a),Y.compile({el:a,skipAutoCompile:!0,data:A.retrieve(e,!0)||r.$$data||Y.getUpData(a)}),void C(n.loaded,function(e){e.call(A,a)})}var s,c=n.paths[e];if(!c){var l="No '"+e+"' component was found, please check if it's defined.";return C(n.fail,function(e){e.call(A,{message:l,inc:r})}),x.log(l)}if(!g(c.restrictions.findOne(function(e){return!1===e.call(A)})))return C(n.blocked,function(e){e.call(A,{message:"The component was blocked by the restrictions verification!",inc:r})});if(c.template)return new F({component:{content:c.template},src:e,inc:r,path:c,store:c.store,componentConfig:t});s=c.url;var o=n.components[e];if(o)new F({component:o,src:e,inc:r,path:c,store:c.store,componentConfig:t});else{var u=!g(n.componentRequests[s]);n.componentRequests[s]=u?n.componentRequests[s]:[],0==u&&n.get({path:s,callback:function(e,r){C(n.componentRequests[r.path],function(n){new F({component:{content:e},src:n.src,inc:n.$inc,path:n.$path,store:n.$path.store,componentConfig:t})}),delete n.componentRequests[r.path]},fail:function(e){C(n.fail,function(t){t.call(A,{message:e.message,inc:r})})}}),n.componentRequests[s].push({src:e,$inc:r,$path:c})}},this.src=function(e){return e.valueIn("src")||e.valueIn("inc-src")},this.isInc=function(e){return"INC"===e.nodeName||e.hasAttribute&&e.hasAttribute("inc-src")},this.setComponent(e)}(s.components.elements,c);function W(e){var t=H.paths[e];if(!g(t))return t;x.log("[NotFound]: No '"+e+"' component was found, please check if it is defined.")}function Y(){}function F(e){if(this.src=e.src,this.name=(e.src+" component").toUpperCase(),this.created=this.mounted=R.empty,this.loaded=this.destroyed=R.empty,this.scope=f.obj(A.retrieve(e.src,!0)||e.inc.$$data),this.Easy=A,this.__proto__.NOREACTIVE=!0,e.inc.parentNode){g(e.path.data)?(this.data={},e.componentConfig.keepData&&(e.path.data=this.data)):this.data=new z(e.path.data),this.export=function(e){if(!y(e))return x.log("[BadDefinition]: Invalid object for export, please make sure the object has valid value.");new z(e),e.keys(function(t){p(this.data,e,t),this.data[t]=e[t]}.bind(this))},this.getParams=function(){return new UrlParams(location.href,location.href.includes("?")?null:this.route)}.bind(e.path);var t,n=e.store,r=e.component,i=this,a=e.inc.hasAttribute("keep-alive"),s=[],c=[];if(a&&r["keep-alive"]){var u=r["keep-alive"];c=u.scripts,s=u.styles,t=u.el}else{var d=o.createElement("body");if(d.innerHTML=r.content,C(d.children,function(e){switch(e.nodeName){case"STYLE":case"LINK":return void s.push(e);case"SCRIPT":return void c.push(e);default:return void(t=e)}}),!t)return x.log("[BadDefinition]: The component '"+e.src+"' seems to be empty or it has not a root element, eg.: <div></div>, to be included. Please, check it!");function h(e){var t=[];return C(e.children,function(e){!function e(n){"INC"===n.nodeName||n.hasAttribute("inc-src")||("CONTENT"===n.nodeName&&t.push(n),C(n.children,function(t){e(t)}))}(e)}),t}var m=h(t);if(e.inc.children.length&&e.inc.node("content"))C(h(e.inc),function(e){var t=m.findOne(function(t){return t.valueIn("ident")===e.valueIn("ident")});if(t){var n=t.aboveMe();C(k(e.children),function(e){"SCRIPT"===e.nodeName?c.push(e):n.appendChild(e)}),n.removeChild(t)}});var v=[],$={};C(t.classList,function(e){$[e]=!0}),C(s,function(e){if(o.head.appendChild(e),e.hasAttribute("scoped")){var t="easy-s"+A.code(7);function n(e){var n="STYLE"===e.nodeName,r=[];C(e.sheet.cssRules,function(e){var i=" ";$[e.selectorText.substr(1)]&&(i=""),e.selectorText="."+t+i+e.selectorText,e.cssText="."+t+i+e.cssText,n&&r.push(e.cssText)}),n&&(e.innerText=r.join("\n"))}v.push(t),"LINK"===e.nodeName?e.onload=function(e){n(e.target)}:n(e)}}),C(v,function(e){t.classList.add(e)}),n&&!0===e.path.store&&(H.components[e.src]||(H.components[e.src]={content:r.content}),a&&(H.components[e.src]["keep-alive"]={el:t,styles:s,scripts:c},H.components[e.src].content=null)),t.$e=e.inc.$e,H.transferAttributes(e.inc,t);var O=R.attr(t,[l.cmds.data],!0);if(O){var N=R.eval(O.value,this.scope);if(N){if(b(N))return x.log("[BadDefinition]: An array cannot be exposed, try to wrap it into an object literal. Eg.: { myArray: [...] }.");N.keys(function(e,t){i.data[e]=t})}}}this.el=t;var j=function(n){if(e.inc.parentNode)try{w(this.scope)&&(this.scope=f.obj(Y.getUpData(e.inc))),w(this.scope)||(delete this.data.$scope,this.data.$scope=this.scope),Function(n).call(this,A),this.created(t);var r=t;if(e.inc.hasAttribute("no-replace")?(e.inc.inc=e.src,e.inc.appendChild(t),r=e.inc):(t.inc=e.src,e.inc.parentNode.replaceChild(t,e.inc)),this.destroy=function(){r.parentNode&&r.parentNode.removeChild(r)},this.mounted(t,e.inc),C(H.mounted,function(e){e.call(A,t)}),Y.compile({el:t,data:this.data,skipAutoCompile:!0}),this.loaded(t),C(H.loaded,function(e){e.call(A,t)}),!t.parentNode||!t.parentNode.parentNode)return;var c=t.parentNode;H.isInc(c)&&(c=c.parentNode);var l=new MutationObserver(function(){var e=c.children[0];H.isInc(t)&&!a&&t!=e&&(t=e),!1===t.isConnected&&(i.destroyed(t),C(H.destroyed,function(e){e.call(A,t)}),k(s,function(e){o.head.removeChild(e)}),l.disconnect())});l.observe(c,{childList:!0})}catch(t){t.file=e.path.url||e.src,x.log(t)}};if(0===c.length)return j.call(this);var I=[],E={},T=[];return C(c,function(e){""==e.src||e.innerHTML?I.push(e.innerHTML):T.push(e.src)}),0==T.length?j.call(this,I.join("\n\n")):C(T,function(t){var n=t.substr(location.origin.length+1);E[n]=!0,H.get({path:n,callback:function(e,t){if(delete E[t.path],I.unshift(e),0==E.keys().length)return j.call(i,I.join("\n\n"))},fail:function(t){throw C(H.fail,function(n){n.call(A,{message:t.message,inc:e.inc})}),t}})})}}function U(t){var n=t.object,r=t.property,i=n[r];if(!1===v(n,r).writable)return this;if(i instanceof Element||y(i)&&i.__proto__.NOREACTIVE)return this;if(!g(v(n,r).get))return this;if("function"==typeof i)return n[r]=i.bind(A),this;var o={descriptor:null,property:r,value:i,binds:[],watches:[]};m(n,r,{get:function(){return e&&e(n,o),o.value},set:function(){var e=arguments[0],t=o.value;if(e!==t){if(y(e))if(b(e)){var i=C(e,function(e){return y(e)?new z(e):e});o.value.splice(0,o.value.length),o.value.push.apply(o.value,i)}else g(n[r])||e instanceof Element?n[r]=e:(n[r].mapObj(e,!0),new z(n[r]));else o.value=e;k(o.binds,function(n){var r,i;n.isObj?function(e,t,n){function r(e){return b(e)?"array":typeof e}var i=r(t),o=r(n),a=e.el;if(i!==o)return x.log("[BadDefinition]: The types of the objects are diferents, Old Type: "+o+"; New Type: "+i+". You need to set the same object types to performe the change in the DOM.");"array"===i&&"#comment"===a.nodeName&&(X.retrieveElems(a,!0),S.cmd.for({el:a.$tmp,array:t,comment:a,data:e.obj}))}(n,e,t):(r=n.el,i=n.obj,S.setNodeValue(r,i)),n.el.com&&!0===n.el.com.isConnected||n.el.$e.$base&&!0===n.el.$e.$base.isConnected||(n.el instanceof Element&&!1===n.el.isConnected?n.bind.destroy():"ownerElement"in n.el&&g(n.el.ownerElement)&&n.bind.destroy())}),k(o.watches,function(n){n.callback(e,t)})}}}),o.descriptor=v(n,r),n[r]=o.value}function X(t){this.refs={};var n,i=this,o=t.property;e=function(){n=arguments};var a=t.object[o];d();var c=n[1];return a.__proto__=Object.create(Array.prototype),C(r,function(e){i.refs[e]=a[e].bind(a),a.__proto__[e]=function(){var t,n=f.array(a),r=i.refs[e].apply(a,arguments);switch(e){case"push":case"unshift":k(arguments,function(e){new z(e)})}return t={array:a,oldArray:n,method:e,args:arguments,return:r},C(c.binds,function(e){if(!e.isObj)return S.setNodeValue(e.el,e.obj);if(!0===s.config.rerenderOnArrayChange)X.retrieveElems(e.el,!0),S.cmd.for({el:e.el.$tmp,array:t.array,comment:e.el,data:e.obj});else{var n=X.retrieveElems(e.el);function r(n,r){S.cmd.for({el:e.el.$tmp,array:n.keys().map(function(e){return n[e]}),comment:e.el,data:e.obj,neighbor:r,index:t.array.length-1})}switch(t.method){case"push":r(t.args);break;case"unshift":r(t.args,n[0]);break;case"pop":case"shift":var i=n[t.method]();i&&i.parentNode.removeChild(i);break;case"splice":C(n.splice.apply(n,t.args),function(e){e.parentNode.removeChild(e)})}}}),C(c.watches,function(e){e.callback.call(A,t.array,t.oldArray)}),g(a.done)||a.done(e,arguments),r}},this),this}function z(e){if(e||(e={}),!y(e))return e;for(var t in e){var n=e[t];if(!(n instanceof Element||y(n)&&n.__proto__.NOREACTIVE)&&(g(v(e,t).get)&&(new U({object:e,property:t}),"object"==typeof n&&!g(n))))if(b(n))new X({object:e,property:t}),C(n,function(e,t){new U({object:n,property:t}),new z(e)});else{if("Inc"===n.constructor.name||"Easy"===n.constructor.name||n instanceof Node)continue;new z(n)}}return e}function J(e){var t,n,r;if(this.el=e.el,this.layer=e.layer,this.lastLayer=e.lastLayer,this.property=e.property,this.two=e.two||!1,!g(this.property)&&(e.property.binds.findOne(function(t){return t.el===e.el})||(t={obj:this.layer,el:this.el,bind:this},this.property.binds.push(t)),!0===this.two)){m(this.el.$e.b,"val",v(this.lastLayer,this.property.property));r={TEXTAREA:"INPUT",DIV:"INPUT"}[r=this.el.nodeName]||r,n=function(){if(!e.el.$e||!e.el.$e.b)return x.log("[Bad Definition], Data Binding was not configured in the element, please, make sure that the element was compiled before binding.");var t=e.el.$e.b,n=e.el[t.data];g(n)||n===t.val||(t.val=n)},this.el.addEventListener(r.toLowerCase(),n,!1),this.el.addEventListener("propertychange",n,!1),this.el.addEventListener("change",n,!1)}this.destroy=function(){n&&(delete this.el.$e.b,this.el.removeEventListener(r.toLowerCase(),n,!1),this.el.removeEventListener("propertychange",n,!1),this.el.removeEventListener("change",n,!1)),this.property.binds.indexOf(t)>-1&&this.property.binds.remove(t)}}function K(e){var t;this.property=e.property,this.callback=e.callback,g(this.property)||(t={property:this.property,callback:this.callback},this.property.watches.push(t)),this.destroy=function(){this.property.watches.indexOf(t)>-1&&this.property.watches.remove(t)}}function G(t){this.reference=void 0;var n,r=t.dec,i=t.array,o=t.filter,a=t.data,s=this;if(!o)return{reference:void 0};var c=o.split(":");if(-1!==o.indexOf(":")&&""===O(c[0])&&""!==O(c[1]))i.filtered=C(i.value,function(e,t){var n=e;return r&&!y(e)&&((n={})[O(r.first)]=e,r.sec&&(n[O(r.sec)]=t)),R.eval(c[1],n)}),this.reference=t.actions.run(i.filtered||i.value);else{var l,f=i.value,h="global";if(-1!==o.indexOf(":"))h="targeted";else{var p=O(o);"function"==typeof(l=R.eval(p,a))&&(h="function")}function m(e){return g(e)&&(e=""),t.actions.clean(),f="function"===h?l.call(A,i.value,e):C(i.value,function(t){if("global"===h)return t.hasValue(e.toLowerCase(),{ignoreCase:!0,comp:"match"});var n=!1;return O(c[1]).split(",").findOne(function(r){var i=R.eval(r,t);return i?n=(i+"").toLowerCase().match(e.toLowerCase()):(x.log(u.invalid(i+" in "+r)),!1)}),n}),t.actions.run(f)}var v=[];e=function(){v.push(arguments)};var b=R.eval(c[0],a);d(),this.reference=m(b),C(v,function(e){n=K.exec(e[1].property,function(e){if(!1===s.reference.isConnected)return s.destroy();m(e)},e[0])})}this.destroy=function(){n&&n.destroy()}}function Q(e){var t={};if(t.reference=e.reference,t.elem=e.elem,t.data=e.data,t.array=e.array.value,t.attr=e.attr=R.attr(e.elem,[l.cmds.order])||(e.elem.$e.$oldAttrs||[]).findOne(function(e){return e.name===l.cmds.order}),!t.attr)return t;t.attr.com=t.reference;var n,r=S.getDelimiters(t.attr.value),i=[];return t.order=function(t){return n=e.attr.value.split(":"),Q.exec(t,n[0],n[1])},r.length?(Y.compile({el:e.attr,data:e.data}),C(r,function(n){i.push(K.exec(n.exp,function(){if(!1===t.reference.isConnected)return t.destroy();e.actions.run.call(t)},e.data))})):Y.addOldAttr({el:t.attr,value:t.attr}),t.array=t.order(f.array(e.array.value)),e.array.value.__proto__.done||(e.array.value.__proto__.done=function(e,n){t.array[e].apply(t.array,n)}),t.destroy=function(){C(i,function(e){e.destroy()})},t}function Z(e,t,n){var r=this;this.name="Easy event",this.type=e,this.base=t,this.target=t,n&&n.keys(function(e,t){r[e]=t})}function ee(e){this.routeView=e.el,this.routeView.removeAttribute("route-view"),this.manuallyMarkedAsActive=null;var t=e.includer,n=function(e,t,n){return{message:"It is not allowed to define more than one "+e+" page.\n  Please, choose between '"+t+"' and '"+n+"' in components definition."}};try{for(var r in t.paths){var a=t.paths[r];if(!0===a.isDefault){if(!g(this.defaultPage))throw n("default",this.defaultPage.name,r);this.defaultPage=a}else if(!0===a.isNotFound){if(!g(this.notFoundPage))throw n("notFound",this.notFoundPage.name,r);this.notFoundPage=a}}}catch(e){return x.log(e.message)}this.clear=function(){this.routeView.innerHTML=""};this.navegate=function(e,n){var r={},i=function(e,n){var r=I(e),i=r.href.replaceAll(r.anchor.baseURI),o=t.config.usehash;n.url=r.href;return o&&r.hash.match(/(^#$)|(^\/#$)|(^#\/$)|(^\/#\/$)/g)?i="/":o&&i.match(/(^#)|(^\/#)|(^#\/)|(^\/#\/)/g)&&(i=r.hash),""===(i=(i=("/"===i[0]?i:"/"+i).trim()).split("?")[0])||"/"===i||"/index.html"===i?this.defaultPage:ee.findPath(i)||this.notFoundPage}.call(this,e,r);if(this.clear(),!i)return x.log("[NotFound]: ðŸ›¸ 404 Page not found!!!");i.title&&(o.title=i.title),g(n)&&i.route&&this.pushState(r.url,i.title);var a=o.createElement("inc");a.valueIn("src",i.name),!0===i.keepAlive&&a.valueIn("keep-alive",""),this.routeView.appendChild(a),this.manuallyMarkedAsActive&&(this.manuallyMarkedAsActive.classList.remove("active-link"),this.manuallyMarkedAsActive=null),C((ee.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),C(i.links,function(e){e.classList.add("active-link")}),ee.lastActivePath=i},this.pushState=function(e,t){i.history.pushState({url:e},t,e)},this.popState=function(e){g(e)&&(e=-1),i.history.go(e)},this.markActive=function(e){e instanceof HTMLAnchorElement&&(this.manuallyMarkedAsActive&&this.manuallyMarkedAsActive.classList.remove("active-link"),C((ee.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),e.classList.add("active-link"),this.manuallyMarkedAsActive=e)},this.go=function(t){if(!g(t)){if(t<0)return this.popState(t);var n=e.includer.config,r=I(t);return location.href=((n.usehash?"/#/":"/")+r.pathname).replaceAll("//","/")}}.bind(this),i.addEventListener("popstate",function(e){e.preventDefault(),this.navegate((e.state||{}).url||location.href,!0)}.bind(this)),this.navegate(location.href),ee.navegate=this.navegate.bind(this)}V.create=function(e,t){try{var n=this.dependencies.Connector;if(g(n))throw{message:u.conn()};var r=A.toJsObj(t);if(!r)throw{message:u.elem("create")};return n.conn.add(e,r)}catch(e){return Promise.reject(A.return(!1,x.log(e),null))}},V.update=function(e,t,n){try{var r=this.dependencies.Connector;if(g(r))throw{message:u.conn()};var i=A.toJsObj(t);if(!i)throw{message:u.elem("updated")};return r.conn.update(e,i,n)}catch(e){return Promise.reject(A.return(!1,x.log(e),null))}},V.delete=function(e,t){try{var n=this.dependencies.Connector;if(g(n))throw{message:u.conn()};if(!t)throw{message:u.invalid("id")};return n.conn.remove(e,t)}catch(e){return Promise.reject(A.return(!1,x.log(e),null))}},V.get=function(e,t){try{var n=this.dependencies.Connector;if(g(n))throw{message:u.conn()};return n.conn.list(e,t)}catch(e){return Promise.reject(A.return(!1,x.log(e),null))}},V.getOne=function(e,t){try{var n=this.dependencies.Connector;if(g(n))throw{message:u.conn()};return n.conn.getOne(e,t)}catch(e){return Promise.reject(A.return(!1,x.log(e),null))}},V.read=V.get,V.toJsObj=function(e,t,n){var r;if(t=h(t,{names:"[name]",values:"[value]"}),n||(n=R.empty),!e)return null;if(e instanceof Element)r=e;else{if(y(e))return e;if($(e))try{r=o.node(e)}catch(t){return e}}if(!r)return x.log("[NotFound]: Element passed in app.toJsObj(...) was not found."),null;function i(e){return e.split(",").map(function(e){return O(e.replaceAll(["[","]"]))})}var a=l.cmds.build,s=i(t.names),c=i(t.values);function u(e){var t={},r={BUTTON:!0},i={checkbox:!0,radio:!0};return function e(o){var u,d,h=R.attr(o,s);if(h){var p=h.value;if(!0===r[o.tagName])return;if(!0===i[o.type]&&!1===o.checked)return;var m=t[p],v=o.hasAttribute(l.cmds.array),y=(u=o,d=null,c.findOne(function(e){return!!(d=u.valueIn(e))}),d);t[p]=v?m?f.array(m,y):[y]:m?f.array(m,y):y,n(t,p,y,o)}k(o.children,function(t){R.attr(t,[a])||e(t)})}(e),t}var d=u(r);return C(r.nodes("["+a+"]"),function(e){var t=e.valueIn(a),r=e.hasAttribute(l.cmds.array),i=u(e);w(i)||function t(o,a){var s=o.split("."),c=s[0];s.shift();var l=a[c];return g(l)&&(a[c]={}),0===s.length?(r?y(l)&&!w(l)?a[c]=[f.obj(l,i)]:b(l)?l.push(i):a[c]=[i]:g(l)?a[c]=i:a[c]=f.array(w(l)?null:l,i),n(a,c,i,e)):b(l)?C(l,function(e){t(s.join("."),e)}):void t(s.join("."),a[c])}(t,d)}),d},V.css=function(e){var t=o.node('[e-style="true"]');if(!t||!0===e){var n=o.createElement("style");n.valueIn("e-style","true");var r=12,i=6,a=.35,s=function(e,t){return"transform: translate"+t+"; -webkit-transform: translate"+t+"; animation:"+e+" "+a+"s ease-out forwards; -webkit-animation:"+e+" "+a+"s ease-out forwards;"},c=function(e){return"animation:"+e+" "+a+"s ease-out forwards; -webkit-animation: "+e+" "+a+"s ease-out forwards;"},l=function(e,t){return"keyframes "+e+" { to { opacity: 1; transform: translate"+t+"; } }"};n.textContent=".hide-it { display: none !important; }inc:not([no-replace]),[inc-src]:not([no-replace]) { display:none!important; }.to-top, .to-bottom, .to-right, .to-left { opacity: 0; }.from-top, .from-bottom, .from-right, .from-left{ opacity: ."+i+"; transform: translateY(0%); -webkit-transform: translateY(0%); }.to-top {"+s("to-top","Y("+r+"%)")+" }.to-bottom { "+s("to-bottom","Y(-"+r+"%)")+" }.to-right { "+s("to-right","X(-"+r+"%)")+" }.to-left { "+s("to-right","X("+r+"%)")+" }.from-top { "+c("from-top")+" }.from-bottom { "+c("from-bottom")+" }.from-right { "+c("from-right")+" }.from-left { "+c("from-left")+" }@"+l("to-top","Y(0%)")+"@"+l("to-bottom","Y(0%)")+"@"+l("to-right","Y(0%)")+"@"+l("to-left","Y(0%)")+"@-webkit-"+l("to-top","Y(0%)")+"@-webkit-"+l("to-bottom","Y(0%)")+"@-webkit-"+l("to-right","Y(0%)")+"@-webkit-"+l("to-left","Y(0%)")+"@"+l("from-top","Y("+r+"%)")+"@"+l("from-bottom","Y(-"+r+"%)")+"@"+l("from-right","X(-"+r+"%)")+"@"+l("from-left","X("+r+"%)")+"@-webkit-"+l("from-top","Y("+r+"%)")+"@-webkit-"+l("from-bottom","Y(-"+r+"%)")+"@-webkit-"+l("from-right","X(-"+r+"%)")+"@-webkit-"+l("from-left","X("+r+"%)")+"[e-skeleton]{ background-color: "+B.background+"!important; position: relative!important; overflow: hidden; }[e-skeleton], [e-skeleton] * {  color: transparent!important; }[e-skeleton]::before, [e-skeleton]::after{ content: '';  position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: block; }[e-skeleton]::before { background-color: "+B.background+"!important; z-index: 1; }[e-skeleton]::after {  transform: translateX(-100%); background: linear-gradient(90deg, transparent, "+B.wave+", transparent); animation: loading 1.5s infinite; z-index: 2; }@keyframes loading {  100% { transform: translateX(100%); } }@-webkit-keyframes loading { 100% { transform: translateX(100%); } } ",!0===e?o.head.replaceChild(n,t):o.head.appendChild(n)}},V.code=function(e){g(e)&&(e=25);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_01234567890",n=!1,r="",i=0;i<e;i++){var o=Math.floor(Math.random()*t.length);r+=n?t[o].toLowerCase():t[o],n=!n}return r},V.setData=function(e,t){if(!g(e)){g(t)&&(t=A.data);var n=new z(e);return e.keys(function(e){var r=v(n,e,!0),i=v(t,e,!0);if(r.config&&i.config){var o=i.config,a=r.config;function s(e,t,n){return n.indexOf(e)===t}[].push.apply(o.binds,a.binds),[].push.apply(o.watches,a.watches),o.binds=o.binds.filter(s),o.watches=o.watches.filter(s)}else p(t,n,e);t[e]=n[e]}),t}},V.expose=function(e,t,n){if(b(t)||!y(t))return x.log("[BadDefinition]: Invalid data, only Object (non Array one) can be exposed, try to wrap it into an object literal!. Eg.: { myData: data }.");var r=M[e];if(!g(r))return delete M[e],C(r,function(e){var n=new z(t);n.$scope=f.obj(Y.getUpData(e)),Y.compile({el:e,data:f.addToObj(n,j(n.$scope,"function"))})});D[e]&&(g(n)||!1===n)||(D[e]=function(){var e=t;return function(){return e}})},V.retrieve=function(e,t){var n,r=D[e];return r&&(n=r.call(null).call(null),g(t)||!0!==t||delete D[e]),n},V.request=function(e,t){if(!t)return x.log("[Request]: Define a callback in second parameter to get the request.");var n=P[e];n?t(n):P.keys(function(n,r){if(r.$code===e||r.$url===e)return t(r)})},V.on=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();H[n].push(t)}else{var r=_[e];r?r.push(t):_[e]=[t]}return{event:e,callback:t}},V.off=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();H[n].remove(t)}else{var r=_[e];r&&r.remove(t)}return{event:e,callback:t}},V.emit=function(e,t,n){g(n)&&(n=!1),C(f.array(_[e]),function(r){r.call(this,t,r.$target),!0===n&&this.off(e,r)},A)},V.set=function(e,t){switch(e){case"skeleton":return b(t)?x.log("[BadDefinition]: Invalid object"):((y(t)||g(t))&&(t=h(t,{background:A.options.config.skeleton.background,wave:A.options.config.skeleton.wave})),"undefined"===t.keys?x.log("[BadDefinition]: Invalid object"):(t.keys(function(e,t){B[e]=t}),A.css(!0)));case"delimiter":return!g(t)&&O(t.name)&&!g(t.delimiter)&&O(t.delimiter.open)&&O(t.delimiter.close)?(S.$$delimiters.push(t),A.delimiters=Object.freeze(S.$$delimiters)):x.log("[BadDefinition]: Invalid object, check if the object has this structure and has valid values: \n{ name: '...', delimiter: { open: '...', close: '...' } }")}},V.components={add:H.setComponent.bind(H),get:function(e){var t=W(e);if(!g(t)){var n=f.obj(t);return delete n.restrictions,n}},restrictions:{add:function(e,t){if(b(t)){var n=W(e);if(!g(n))return H.skipNoFunction(t,e),n.restrictions.push.apply(n.restrictions,t)}else x.log("[BadDefinition]: "+u.invalid()+" Try an array!")},get:function(e){var t=W(e);if(!g(t))return t.restrictions},remove:function(e,t){var n=W(e);if(!g(n))return n.restrictions.remove(t)}}},V.lazy=function(e,t){var n;t=g(t)?500:t;var r=arguments[2];return function(){var i=A,o=arguments,a=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(i,o)},t),a&&e.apply(i,o)}},V.reactive=function(t){if("function"==typeof t){var n={};e=function(e,t){Object.defineProperty(n,t.property,t.descriptor)};var r=t.call(A);if(d(),y(r))return r.keys(function(e,t){n.hasOwnProperty(e)||(n[e]=t)}),n.keys(function(e){r.hasOwnProperty(e)||"$scope"===e||delete n[e]}),new z(n),n}else x.log("[BadDefinition]: this.reactive function expects a function as parameter.")},V.compile=Y.compile=function(r){var a=r.el,s=r.data,c=s,h=j(s,"function"),p=l.cmds;if(!a)return x.log("[BadDefinition]: Invalid element passed in the compiler");function b(t){var n=t.el,r=f.obj(t.$scope),i="INC"==n.nodeName?n:n.$e.$base,a=H.src(i);i.$$data=w(r)?null:f.obj(r);var s=S.getDelimiters(a);if(1===s.length){i.valueIn("no-replace","");var c,l=i.parentNode,u=s[0],d=i.nodeName,h=R.attr(i,["inc-src","src"]),p=i,m={el:p};e=function(){c=arguments},a=R.eval(u.exp,r),h.value=a,c&&(m.watch=A.watch(c[1].property,function(e){var t=o.createElement(d);t.valueIn("no-replace",""),"INC"===d?t.valueIn("src",e):t.valueIn("inc-src",e),l.replaceChild(t,p),m.el=p=t},c[0]),S.$handleWatches.push(m))}else if(s.length>=1)return x.log("[BadDefinition]: Only one delimiter is allowed in element[inc-src] or inc[src].\n  Check the value: '"+a+"'."),i;return H.include(a,i),i}function $(o,a){var s=o.nodeName,w=o.nodeValue;switch(N(o),!0===r.force&&o.$e.$oldAttrs&&C(o.$e.$oldAttrs,function(e){o.attributes.setNamedItem(e)}),s){case"#comment":return;case"e-compile":o.removeAttribute("e-compile");break;case"wait-data":var j=o.$e.$base;if(!O((T=R.attr(j,["wait-data"],!0)).value))return x.log({message:u.invalid("in "+T.name),el:j});if(D[T.value]){var I=new z(A.retrieve(T.value,!0));I.$scope=f.obj(a),Y.compile({el:j,data:f.addToObj(I,h)})}else M[T.value]?M[T.value].push(j):M[T.value]=[j];return j.ignoreBaseCompilation=!0;case"inc-tmp":j=o.$e.$base;return void(O((T=R.attr(j,["inc-tmp"],!0)).value)?H.components[T.value]={content:j.outerHTML}:x.log({message:"Invalid value in element[inc-tmp]. ",el:j},"warn"));case p.def:var E=R.eval(w,a);return E&&A.setData(E,a),o.$e.$base.removeAttribute(s);case p.if:case p.show:j=o.$e.$base;var T=R.attr(o.$e.$base,[p.if,p.show],!0);if(""===O(o.value))return x.log({message:"Invalid expression in "+T.value,el:o});if(S.getDelimiters(o.value).length>0)return x.log(u.delimiter(s));if(o.name===p.show){o.$e.$base=j,Y.addOldAttr({el:j,value:o});var L=function(){var e=R.eval(o.nodeValue,a);j.style.display=e?"":"none"},P=[];e=function(){P.push(arguments)},L(),d(),C(P,function(e){var t=A.watch(e[1].property,function(){L(),j.isConnected||t.destroy()},e[0])})}else{var _=j,B=j.parentNode,V=[],q=function(e,t){e.com=S.com.create(),e.removeAttribute(t.nodeName),V.push({attr:t,element:e,comment:e.com,value:t.nodeValue,type:t.nodeName}),N(t).$e.$base=j,Y.addOldAttr({el:e,value:t})},W=function(){C(V,function(e){var t=e.element.parentNode;t&&t.replaceChild(e.element.com,e.element)});for(let n=0;n<V.length;n++){var e,t=V[n];if(t.value&&(e=R.eval(t.value,a)),e||"e-else"==t.type){t.element.$e.$oldAttrs.remove(t.attr),B.replaceChild(t.element,t.comment),Y.compile({el:t.element,data:a,force:!0,done:function(){t.element.$e.$oldAttrs.push(t.attr)}});break}}};for(q(_,o);;){if(!(_=_.nextElementSibling))break;if(!(me=R.attr(_,["e-else-if","e-else"])))break;if(q(_,me),"e-else"===me.name)break}P=[];e=function(){P.push(arguments)},W(),d(),C(P,function(e){var t=A.watch(e[1].property,function(){W();var e=!0;C(V,function(t){1==e&&(t.comment.isConnected||t.element.isConnected)&&(e=!1)}),e&&t.destroy()},e[0])})}return;case"inc-src":return(j=b({el:o,$scope:a})).ignoreBaseCompilation=!0;case p.data:var F;j=o.$e.$base;if(H.isInc(j))return;return(F=""===O((T=R.attr(j,[p.data],!0)).value)?f.obj(A.data):R.eval(T.value,a)||{}).$scope=f.obj(a),$.call(A,j,f.addToObj(F,h)),Z.emit({elem:j,type:l.events.data,scope:a}),j.ignoreBaseCompilation=!0;case p.tmp:case p.fill:case p.req:j=o.$e.$base;if(T=R.attr(j,[p.tmp,p.fill],!0)){var U=T.name===p.tmp?"many":"one",K=R.attr(j,[p.id],!0);K=K?K.value:"",j.valueIn("e-req",'{ $url: "'+T.value+'", $type: "'+U+'", $id: "'+K+'" }')}return S.initConnectorRequest(j,f.obj(a,this.methods)),j.ignoreBaseCompilation=!0;case p.for:j=o.$e.$base;var Q,te=S.cmd.for.read(j);if(!te.ok)return;e=function(){P=arguments};var ne=R.eval(te.array,a);d();var re=P?P[1].descriptor:null,ie=re?m({},"value",re):{value:ne};return(Q=new G({array:ie,dec:te.dec,data:a,filter:te.filter,actions:{clean:function(){X.retrieveElems(Q,!0)},run:function(e){return S.cmd.for({el:j,array:e,comment:Q,data:f.obj(a,h)})}}}).reference)||(Q=S.cmd.for({el:j,array:ie.value,comment:Q,data:f.obj(a,this.methods),read:te})),re&&P[1].binds.push({el:Q,isObj:!0,obj:f.obj(a,h)}),j.ignoreBaseCompilation=!0;case p.content:return(j=o.$e.$base).innerHTML=w,j.removeAttribute(s);case p.anm:j=o.$e.$base;return g(w)||j.niceIn(w),j.removeAttribute(s);default:j=o.$e.$base;if(s.startsWith("on:")||s.startsWith("listen:")){if(""===O(w))return x.log("[BadDefinition]: Invalid expression in "+s);var oe=s.split(":")[1].split("."),ae=oe[0];if(!0===t[ae])var se=j.listen(ae,function(e){-1!==oe.indexOf("once")&&j.removeEventListener(ae,se[0].callback,!1),C(oe,function(t){var r=n[t];r&&e[r]()}),arguments[0].$data={scope:a};var t=R.eval(w,f.addToObj(a,h)||{});"function"==typeof t&&t.apply(A,arguments)});else{if(!g(l.events[ae]))return;var ce=function(){-1!==oe.indexOf("once")&&A.off(ae,se.callback);var e=R.eval(w,f.addToObj(a,h)||{});"function"==typeof e&&e.apply(A,arguments)};ce.$target=j;se=A.on(ae,ce)}return j.removeAttribute(s)}if("e-bind"===s||s.startsWith("e-bind:")){var le=s.split(":"),ue=1===le.length?"value":le[1];return j.$e.b={data:ue},j.$e.$oldValue=w,j.$e.$fields=[{exp:w,field:w}],j.$e.$base=j,j._name=ue,g(w)||""===O(w)?x.log("[BadDefinition]: e-bind attribute cannot have null or empty value."):(J.exec(j,a,function(){S.setNodeValue(j,a)},{two:!0}),j.removeAttribute(s))}if(s.startsWith("e-toggle:")){var fe=s.split(":");if(g(w)||""===O(w))return x.log("[BadDefinition]: e-toggle attribute cannot have null or empty value.");function de(){R.eval(w,a)?j.valueIn(fe[1],"true"):j.removeAttribute(fe[1])}if(e=function(){P=arguments},de(ve),d(),P){var he=A.watch(P[1].property,function(){de()},P[0]);S.$handleWatches.push({el:j,watch:he})}return j.removeAttribute(s)}if(s.startsWith("e-")&&!l.cmds.hasValue(s)&&0===S.getDelimiters(w).length&&""!==O(w)){if("{"!==(w=O(w))[0]||"{"===w[1])return;Y.setDefault({attr:o}),Y.addOldAttr({el:j,value:o});var pe=s.substr(2);j.hasAttribute(pe)||j.valueIn(pe,"");var me=R.attr(j,[pe]);function de(e){e&&e.keys(function(e,t){t?me.value.includes(e)||(me.value+=" "+e):me.value=me.value.replaceAll([" "+e,e])})}j.removeAttribute(s),e=function(){P=arguments};var ve=R.eval(w,a);if(!y(ve))return;if(de(ve),d(),P){he=A.watch(P[1].property,function(){de(R.eval(o.$e.$oldValue,a))},P[0]);S.$handleWatches.push({el:j,watch:he})}}}var ye;if(o.attributes&&(ye=o.attributes[p.data]||o.attributes[p.fill]||o.attributes[p.for]||o.attributes[p.req]||o.attributes[p.tmp]||o.attributes[p.fill]||o.attributes["wait-data"]),C(ye?[ye]:k(o.attributes||[]),function(e){N(e).$e.$base=o,g(v(e,"isConnected"))&&m(e,"isConnected",{get:function(){return o.isConnected},set:function(){}}),$.call(A,e,a)}),!o.hasAttribute||!o.hasAttribute("e-ignore")){if(!0===o.ignoreBaseCompilation)return delete o.ignoreBaseCompilation;if("INC"==s)return b({el:o,$scope:a}).ignoreBaseCompilation=!0;if(o.nodeValue){var be=o,ge=(j=o.$e.$base,S.getDelimiters(be.nodeValue));ge.length&&(be.$e.$fields=ge,"#text"!==s&&Y.addOldAttr({el:j,value:o}),Y.setDefault({attr:be}),Y.setValue({current:be,scope:c,methods:h}))}if(s===p.skeleton&&""===O(w)&&o.$e.$base.removeAttribute(s),":href"===s||"i:href"===s){j=o.$e.$base;var $e=ee.findPath(o.value||"/");j.valueIn("href",ee.normalizeRoute(o.value||"/")),$e&&":href"===s&&$e.links.push(j),j.removeAttribute(s),j.addEventListener("click",function(e){e.preventDefault(),ee.navegate?ee.navegate(j.href):i.location.href=j.href})}g(o.childNodes)||k(o.childNodes,function(e){c=a,N(e).$e.$base=o,$.call(A,e,a)}),Z.emit({elem:o,type:l.events.compiled,scope:a})}}N(a);var I=c;a.$e.data=function(){return I},a.$prevent=r.skipAutoCompile||void 0,new Promise(function(e,t){try{a.$e.$base=a.ownerElement||a.parentNode,$.call(A,a,c),g(r.done)||r.done.call(A,a),e(A)}catch(e){t(x.log(e))}})},V.toElement=E,V.use=function(e){if(!b(e))return x.log("The method 'app.use' expects an array having all the dependencies");C(e,function(e){g(e)||(e.attachedEasyInstance=this,this.dependencies[e.dependencyId||e.constructor.name]=e)},this)},V.call=function(e,t){return b(e)?C(e,function(e,n){if("function"!=typeof e&&!0!==t)return x.log("The item-"+n+" at app.call([ ... ]), is not a `function`, try: [ function(easy){ ... } ] or app.call([ ... ], true) to ignore the null items","warn");e&&e.call(this)},this):x.log("Invalid value, try an array. Eg.: app.call([ ... ])")},J.exec=function(t,n,r,i){try{var o;if(e=function(){o=arguments},r(),o){i||(i={});var a={el:t,layer:n,lastLayer:o[0],property:o[1]};i.keys(function(e,t){a[e]=t}),new J(a)}}catch(e){throw e}finally{d()}},ee.findPath=function(e){for(var t in H.paths){var n=H.paths[t];if(n.route){var r=n.route.split("/").map(function(e){return":"===e[0]?"[\\S\\s]{1,}":e}).join("/");if(b(new RegExp("^"+r+"$","gi").exec(e)))return n}}},ee.normalizeRoute=function(e){var t=I(e),n=t.anchor.baseURI;return c.usehash?n+="#":t.pathname=t.pathname.substr(1),n+=t.pathname},V.watch=K.exec=function(t,n,r){if(r||(r=A.data),r.hasOwnProperty(t)){var i;e=function(){i=arguments};r[t];return d(),new K({property:i[1],callback:n})}},X.retrieveElems=function(e,t){if(!e)return[];g(t)&&(t=!1);for(var n=[],r=e.previousElementSibling;r&&(!r||!g(r.aId)||e.$id===r.aId);)n.unshift(r),r=r.previousElementSibling;return!0===t&&C(n,function(e){e.aboveMe().removeChild(e)}),n},Q.exec=function(e,t,n){return t||(t="asc"),e.sort(function(e,r){function i(e,n){if(g(e)||g(n))return 0;switch(t.toLowerCase()){case"asc":return e?1:-1;case"des":return n?-1:1;default:return x.log("[BadDefinition]: '"+t+"' is invalid type of order by. Avaliable types are: 'asc' for order ascendent and 'des' for order descendent."),0}}return n?i(e[n]>r[n],r[n]<e[n]):i(e>r,r<e)})},Z.emit=function(e){var t=e.type,n="on:"+t;if(e.elem.hasAttribute&&e.elem.hasAttribute(n)){var r=R.attr(e.elem,[n],!0);if(""===O(r.value))return x.log("[BadDefinition]: Invalid expression in "+r.name);var o=new Z(t,e.elem,{$data:{model:e.model,scope:e.scope},result:e.result});Y.addOldAttr({el:e.elem,value:r});var a=v(i,"event");p(i,{event:o},"event");var s=R.eval(r.value,e.scope||{});"function"==typeof s&&s.apply(A,[o]),m(i,"event",a)}},Y.setDefault=function(e){var t=e.attr;t._name||(t._name=t.nodeName),t.$e.$oldValue||(t.$e.$oldValue=t.nodeValue)},Y.addOldAttr=function(e){N(e.el);var t=e.el,n=e.value;if(t.$e.$oldAttrs){if(t.$e.$oldAttrs.findOne(function(e){return e==n}))return n;t.$e.$oldAttrs.push(n)}else t.$e.$oldAttrs=[n]},Y.setValue=function(e){var t=f.addToObj(e.scope,e.methods);return S.setNodeValue(e.current,t),C(e.current.$e.$fields,function(n){J.exec(e.current,e.scope,function(){R.eval(n.exp,t)})})},Y.getUpData=function(e){do{if(e.$e){var t=e.$e.data;if("function"==typeof t)return t()}}while(e=e.parentNode)};try{function te(){if(this.el=o.node(a||""),!this.el)return x.log("[NotFound]: Element with selector '"+a+"' not found, please check it.");s.mounted.call(this,this.el),Y.compile({el:A.el,data:A.data,done:function(){s.loaded.call(A,A.el),S.observer.mutation(function(e){Y.compile({el:e,data:Y.getUpData(e)})}).observe(A.el,{childList:!0,subtree:!0})}});var e=this.el.node("[route-view]");e&&(A.routing=ee.instance=new ee({el:e,includer:H}))}this.setData(s.data),this.data=s.data,this.css(),this.use(s.dependencies),s.config.useDOMLoadEvent?o.addEventListener("DOMContentLoaded",te.bind(this),!1):te.call(this)}catch(e){x.log({message:"[InternalError]: Error while initializing. Description: "+e.message,error:e})}}function L(e,t){var n={};if(n.__proto__=Object.create(L.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),n.type=t,n.thrownAt=(new Date).toLocaleString(),$(e))n.message=e;else if(y(e)){for(var r in e)p(n,e,r);Object.defineProperties(n,{message:{enumerable:!0,value:e.message},file:{enumerable:!0,value:e.file||"./index.html"}})}return n.name=e.name||"Error",n.__proto__.toString=function(){return n.message},n}return function(){function e(e,t,n){m((n||Object).prototype,e,{value:t})}function t(e,t,n){var r=l.anm,i=n.toLowerCase().split(":"),o=i[0];return r.to.keys(function(t,n){e.classList.remove(n)}),r.from.keys(function(t,n){e.classList.remove(n)}),e.classList.add(r[t][o]),i[1]||r.reverse(o)}g(Node.prototype.node)&&(e("node",function(e){return e?"#"===e[0]&&this.getElementById?this.getElementById(e.substr(1)):this.querySelector(e):null},Node),e("nodes",function(e){return e?k(this.querySelectorAll(e)):null},Node),e("keys",function(e){var t=this,n=Object.keys(t);return e&&"function"==typeof e&&C(n,function(n){e(n,t[n])}),n}),e("mapObj",function(e,t){var n=this;return g(t)&&(t=!1),e.keys(function(e,r){var i=n[e];if(t&&y(i))b(i)||n[e].mapObj(r,t);else{var o=g(r)?n[e]:r;o!=i&&(n[e]=o)}})}),e("valueIn",function(e,t){return g(t)?null!=e?this[e]||this.getAttribute(e):this.innerText:this.setAttribute(e,t)||this.getAttribute(e)},Element),e("aboveMe",function(e){return function t(n){var r=n.parentNode;if(g(e))return r;if(r===o||g(r))return null;var i=o.createElement("body");return i.innerHTML=r.outerHTML,r.nodeName===i.nodeName?i.innerHTML="":i.children[0].innerHTML="",g(i.querySelector(e))?r.nodeName===i.nodeName?null:t(r):r}(this)},Element),e("hasValue",function(e,t){var n=this;function r(e,n){var r=e,i=n;switch(y(r)||y(i)||(r=A(e),i=A(n),t.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase())),t.comp){case"match":return r.match(i);case"equal":return r===i}}return t=h(t,{ignoreCase:!1,comp:"equal"}),!g(y(n)?n.keys().findOne(function(t){return r(n[t],e)}):r(n,e))}),e("get",function(e){return this.findOne(function(t){return t===e||!!y(t)&&t.hasValue(e)})||(Number.isInteger(e)||$(e)?this[e]:null)},Array),e("findOne",function(e){for(var t,n=this.length,r=0;r<n;r++)if(e(this[r],r)){t=this[r];break}return t},Array),e("index",function(e){var t=this.indexOf(e);return-1===t&&this.findOne(function(n,r){return!(n!==e&&!n.hasValue(e))&&(t=r,!0)}),t},Array),e("indexes",function(e,t){var n=[];return C(this,function(t,r){(t===e||t.hasValue(e))&&n.push(r)}),t&&C(n,function(e){t(e)}),n},Array),e("remove",function(e,t){try{if(g(t)&&(t=!1),e||0===e)if(!0===t)f.array(this).indexes(e,function(e){this.splice(e,1)});else{var n=this.index(e);-1===n&&Number.isInteger(1*e)&&(n=1*e),this.splice(n,1)}else this.pop()}catch(e){x.log({message:"[InternalError]: Remove function error. "+e.message,error:e})}return this},Array),e("niceIn",function(e,n,r,i){var o=this;g(i)&&(i=100);var a=t(o,"to",e);n&&n.niceOut(a),setTimeout(function(){r&&r(o,n)},i)},HTMLElement),e("niceOut",function(e,n,r,i){var o=this;g(i)&&(i=100);var a=t(o,"from",e);n&&n.niceIn(a),setTimeout(function(){r&&r(o,n)},i)},HTMLElement),e("desc",function(){return this.nodeName?f.array(this.nodeName.toLowerCase(),this.id?"#"+this.id:"",k(this.classList).map(function(e){return"."+e})).join(""):this.toString()},Element),e("listen",function(e,t){var n=b(this)?this:[this],r=[];return C(n,function(n){if(!(n instanceof Node)&&n!==i)return x.log("[BadDefinition]: Cannot apply '"+e+"'to the element"+n.desc()+".");var o={event:e,fnCallback:t,callback:function(){arguments[0].base=n,o.fnCallback.apply(o.fnCallback,arguments)},options:!1};n.addEventListener(o.event,o.callback,o.options),r.push({el:n,event:e,callback:o.callback})}),r}),e("replaceAll",function(e,t){var n=this;function r(e,t,n){for(var r=e.length,i=t.length,o="",a=0;a<r;a++)e[a]===t[0]&&e.substr(a,i)===t?(o+=n,a+=i-1):o+=e[a];return o}return g(t)&&(t=""),b(e)?C(e,function(e){n=r(n,e,t)}):n=r(n,e,t),n},String),g(String.prototype.startsWith)&&(e("startsWith",function(e){return this.substr(0,e.length)===e},String),e("endsWith",function(e){return this.substr(this.length-e.length)===e},String),e("includes",function(e){for(var t=0;t<this.length;t++)if(this.substr(t,e.length)===e)return!0;return!1},String)),e("clearSkeleton",function(e){var t='[e-skeleton="'+e+'"]';this.removeAttribute("e-skeleton"),this.nodes&&C(this.nodes(t),function(e){e.removeAttribute("e-skeleton")})},Element))}(),"undefined"==typeof Promise&&(i.Promise=function(e){var t=this;this.status="pending",this.WARN="Do not 'await' this promise, it does not support await keyword.";var n=[],r=[],i=[];function o(e,n){function r(e,n){C(e,function(e){e.call(t,n)})}var o=setTimeout(function(){r(e,n),r(i),clearTimeout(o)},0);return n}return this.then=function(e,i){return n.push(e),g(i)||r.push(i),t},this.catch=function(e,i){return r.push(e),g(i)||n.push(i),t},this.finally=function(e){return i.push(e),t},e(function(e){return t.status="resolved",t.value=e,o(n,e)},function(e){return t.status="rejected",o(r,e)}),t},Promise.resolve=function(e){return new Promise(function(t){return t(e)})},Promise.reject=function(e){return new Promise(function(t,n){return n(e)})}),i.UrlParams=function(e){e||(e=location.href);var t=arguments[1];if(t&&$(t)){var n=e.split("/").reverse();""===n[0]&&n.shift(),C(t.split("/").reverse(),function(e,t){":"===e[0]&&(this[e.substr(1)]=n[t])}.bind(this))}else{var r=e.split("?")[1];if(!r)return this;C(r.split("&"),function(e){var t=e.split("=");this[t[0]]=(t[1]||"").split("#")[0]}.bind(this))}},L.prototype=Object.create(Error.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),x.prototype.http=T,x.prototype.extend=f,x.prototype.return=function(e,t,n,r){return f.addToObj({status:e,message:t,result:n},r)},x});