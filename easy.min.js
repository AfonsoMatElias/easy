!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Easy=t()}(this,function(){"use strict";var e,t,n={stoppropagation:"stopPropagation",preventdefault:"preventDefault"},r=window,i=r.document,a=r.Promise,o=i.createElement("a");o.href="http://[::1]";var s="[::1]"===o.hostname,c={commands:{id:"e-id",order:"e-order",anm:"e-anm",field:"text",req:"e-req",tmp:"e-tmp",fill:"e-fill",build:"e-build",array:"e-array",filter:"e-filter",if:"e-if",show:"e-show",for:"e-for",data:"data",def:"e-def",use:"e-use",toggle:"e-toggle",content:"e-content",skeleton:"e-skeleton"},animations:{to:{up:"to-top",down:"to-bottom",left:"to-left",right:"to-right"},from:{up:"from-top",down:"from-bottom",left:"from-left",right:"from-right"},reverse:function(e){switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left";default:return"none"}}},types:["String","Number","BigInt","Symbol"],events:{compiled:"compiled",add:"add",empty:"empty",response:"response",fail:"fail",data:"data"}},l={delimiter:function(e){return"The command '"+e+"' cannot contain a delimiter in expression value... The value is compiled without a delimiter."},conn:function(){return"No dependency with Id 'Connector' was found... Add the dependency to be able to use this method"},invalid:function(e){return"Invalid value"+(e?" "+e:"")+"."},elem:function(e){return"The selector or object passed for '"+e+"' is invalid, please check it."}},u={obj:function(){var e={};return arguments.keys(function(t,n){b(n)||n.keys(function(t){h(e,n,t)})}),e},addToObj:function(e){return arguments.keys(function(t,n){0!=t&&(b(n)||n.keys(function(t){h(e,n,t)}))}),e},array:function(){var e=[];return arguments.keys(function(t,n){b(n)||(_(n)?[].push.apply(e,n):e.push(n))}),e}};function f(){e=void 0}function d(e,t){return e||(e={}),t||(t={}),t.keys(function(t,n){b(e[t])&&(e[t]=n)}),e}function h(e,t,n){p(e,n,m(t,n))}function p(e,t,n){return Object.defineProperty(e,t,n),e}function m(t,n,r){if(!r)return Object.getOwnPropertyDescriptor(t,n);var i;e=function(){i=arguments};t[n];return f(),{descriptor:Object.getOwnPropertyDescriptor(t,n),config:i?i[1]:null}}function v(e){return e instanceof Object}function _(e){return Array.isArray(e)}function b(e){return void 0===e||null==e}function g(e){return void 0!==e&&"string"==typeof e}function y(e){return!e||0===e.keys().length}function $(e){return"function"==typeof e}function w(e,t,n){if(!e)return[];var r=[].slice.call(e);return t&&A(r,t,n),r}function k(e){return e?e+"":""}function A(e,t,n){if(!e||!e.length)return[];var r,i=e.length,a=[];for(r=0;r<i;r++)t.call(n,e[r],r)&&a.push(e[r]);return a}function C(e){return e?e.trim():e}function x(e){return e.__e__||(e.__e__=d({},{src:[]})),e}function N(e,t){var n={};return e&&e.keys(function(e,r){typeof r===t&&(n[e]=r)}),n}function j(e){if(!g(e))return e;var t=e;i.documentMode&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t);var n=o.hostname;!s&&n.indexOf(":")>-1&&(n="["+n+"]");var r={href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:n,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname,anchor:o};return r.origin=r.protocol+"://"+r.host,r.hrefb=r.href?o.baseURI+o.href.substr(o.origin.length+1):o.baseURI,r}function O(e){if(b(e))return null;var t=i.createElement("body");return t.innerHTML=e,t.children[0]}function I(e,t){if(!e)return T.log("[BadDefinition]: Invalid url");var n={};(t||{}).keys(function(e,t){n[e]=t}),!n.method||n.method;var r=function(e){if(!(!i.documentMode||e.match(/^(get|post|head|put|delete|options)$/i)&&window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw{message:"This browser does not support XMLHttpRequest."}}(n.method);return n.url=e,n.timeout=n.timeout||12e4,new a(function(i){r.open(n.method,n.url,n.async||!0),r.timeout=n.timeout,(t.headers||{}).keys(function(e,t){t&&r.setRequestHeader(e,t)}),r.onload=function(){var t=r.statusText||"",i="response"in r?r.response:r.responseText,o=1223===r.status?204:r.status;0===o&&(o=i?200:"file"===j(e).protocol?404:0),n.ok=o>=200&&o<400,n.status=o,a(o,i,r.getAllResponseHeaders(),t,"complete")};var a=function(e,t,a,o,s){r=null,n.response=t,n.responseHeaders=a,n.statusText=o,n.statusMessage=s,i(n)};r.onerror=function(){a(-1,null,null,"","error")},r.onabort=function(){a(-1,null,null,"","abort")},r.ontimeout=function(){a(-1,null,null,"","timeout")},n.withCredentials&&(r.withCredentials=!0),n.type=n.type||"";try{r.responseType=n.type}catch(e){if("json"!==n.type)throw e}return r.send(t.body||null),n})}function T(s,k){if(!(this instanceof T))return T.log("[BadDefinition]: Easy is a constructor and should be called with the 'new' keyword."),this;this.name="Easy",this.version="2.3.2",this.dependencies={};var E,L=this,D={},M={},P={},B={},R={background:"#E2E2E2",wave:"#ffffff5d"},q=new function(){this.empty=function(){},this.eval=function(e){var t=e.$data||{},n=e.$args,r=!!b(e.$return)||e.$return,i=r?"this.$return="+e.$exp:e.$exp,a=!!b(e.$log)||e.$log,o=e.$el||{};try{q.spreadData(function(){Function(i).apply(L,n)},t)}catch(e){a&&T.log({message:e.message,scope:t,file:(o.__e__||{}).src})}var s=L.$return;return delete L.$return,s},this.exec=function(e){var t=e.$exp,n=e.$data,r=!b(e.$json)&&e.$json,i=e.$el;try{var a=q.eval({$exp:t,$data:n,$el:i});return b(a)?"":(r&&v(a)&&(a=JSON.stringify(a)),a)}catch(e){return""}},this.attr=function(e,t,n){if(!(b(e)||b(t)||b(e.attributes))){var r;b(n)&&(n=!1);for(var i=0;i<t.length&&!(r=e.attributes[t[i]]);i++);return r&&n&&e.removeAttribute(r.name),r}},this.spreadData=function(e,t){var n=[],i={},a={};v(t)&&(n=t.keys());try{A(n,function(e){r.hasOwnProperty(e)&&(!0===m(r,e).configurable?h(i,r,e):a[e]=r[e]),a.hasOwnProperty(e)?r[e]=t[e]:h(r,t,e)}),e.call(L)}catch(e){throw e}finally{a.keys(function(e,n){t[e]!==r[e]&&(t[e]=r[e]),r[e]=n}),A(n,function(e){a.hasOwnProperty(e)||delete r[e]}),A(Object.keys(i),function(e){h(r,i,e)})}}},V=this.__proto__=Object.create(T.prototype);this.__proto__.NOREACTIVE=!0;var S=[{name:"easy",delimiter:{open:"-e-",close:"-"}},{name:"common",delimiter:{open:"{{",close:"}}"}},{name:"html",delimiter:{open:"{html{",close:"}}"}}];(k=d(k,{config:{},data:{},components:{},mounted:q.empty,loaded:q.empty,dependencies:[]})).data=d(k.data,{}),k.components=d(k.components,{elements:{},config:{}}),k.components.config=d(k.components.config,{usehash:!0,keepData:!1,preload:!1}),k.config=d(k.config,{deepIgnore:!1,rerenderOnArrayChange:!1,log:!0,useDOMLoadEvent:!0,skeleton:{background:"#E2E2E2",wave:"#ffffff5d"}}),R=u.obj(k.config.skeleton),E=k.components.config,this.delimiters=Object.freeze(S),this.options=k,this.data=this.options.data,T.log=T.log.bind(this),b(k.components.config.base)||T.log('The property component.config.`base` is deprecated, use only the <base href="..."/> element at the top of the <head> children.',"warn");var H=new function(e){var t=this;this.$$delimiters=e.$$delimiters,this.$handleWatches=e.$handleWatches,this.observer=function(e){return new MutationObserver(function(n){A(n,function(n){A(n.addedNodes,function(t){if(!(t.aboveMe&&t.hasAttribute("e-ignore")||!0===L.options.config.deepIgnore&&t.aboveMe&&t.aboveMe("[e-ignore]")||t.$prevent)){switch(t.nodeName){case"#comment":case"SCRIPT":case"#text":case"STYLE":return}(W.isInc(t)||t.hasAttribute&&t.hasAttribute("e-compile"))&&e(t)}}),n.removedNodes.length&&(w(M.keys(),function(e){var t=M[e];"many"===t.$type?!1===t.$el.__e__.com.isConnected&&delete M[e]:!1===t.$el.isConnected&&delete M[e]}),w(t.$handleWatches,function(e,n){!1===e.el.isConnected&&(t.$handleWatches.splice(n,1),e.watch.destroy())}))})})},this.com={create:function(e,t){t||(t={});var n=x(i.createComment("e"));return n.easy=!0,n.$id=e||L.code(8),t.keys(function(e,t){n[e]=t}),n},get:function(e,n){if(!b(n))return t.com.getAll(e,n).findOne(function(e){return e.$id===n})},getAll:function(e,t){if(!e)return[];for(var n,r=i.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},!1),a=[];n=r.nextNode();)n.$id!==t&&void 0!==t||a.push(n);return a}},this.cmd={for:function(e){var n=e.el,r=e.array,i=e.comment,a=e.data;try{var o=c.commands.for,s=q.attr(n,[o]);if(t.getDelimiters(s.value).length>0)return void T.log(l.delimiter(c.commands.for));if(!r)return void T.log({message:"It seems like the array defined in e-for has invalid value",elem:n,expression:s.value});var f=t.cmd.for.read(n);if(!i){var d=n.__e__.aId=L.code(10);if(i=t.com.create(d,{$tmp:n}),n.__e__.com=i,b(n.parentNode))return i;n.aboveMe().replaceChild(i,n)}var h=N(a,"function");function p(r){A(r,function(s,l){var d=n.cloneNode(!0),p={};A([o,c.commands.order],function(e){d.removeAttribute(e)}),d.__e__={src:w(n.__e__.src),aId:n.__e__.aId},d.$prevent=!0,p=t.cmd.for.item({item:s,dec:f.dec,data:a,array:r,index:l,extIndex:e.index});var m=u.addToObj(p,h);i.parentNode.insertBefore(d,e.neighbor||i),te.run({el:d,data:m,skipAutoCompile:!0}),Q.emit({elem:d,type:c.events.add,model:p,scope:m})})}var m=G({elem:n,data:a,reference:i,array:{value:r},actions:{run:function(){X.collect(i,!0),p(this.order(this.array))}}});p(m.array),0===m.array.length&&Q.emit({elem:n,type:c.events.empty})}catch(e){return void T.log(e.message)}return i}},this.cmd.for.read=function(e){var t=q.attr(e,[c.commands.for]);if(!t.value)return{ok:!1,msg:T.log("[BadDefinition]: Invalid expression in e-for")};function n(e,t){var n=e.includes(t);return n?e.split(t):void 0}var r,i,a,o,s,l=n(t.value," of ")||n(t.value," in ")||[t.value],u=1;if(1===l.length?u=0:r=l[0],o=l[u].split("|"),i=o[0],a=o[1],r){var f=r.replaceAll(["(",")"]).split(",");s={first:f[0],sec:f[1]}}return{ok:!0,dec:s,array:C(i),filter:C(a)}},this.cmd.for.item=function(e){var t={},n=e.dec,r=e.item,i=e.data,a=e.array,o=e.index,s=e.extIndex;if(n)Object.defineProperty(t,C(n.first),m(a,o)),b(n.sec)||(t[C(n.sec)]=b(s)?o:s,new Y({object:t,property:C(n.sec)})),t=u.addToObj(t,i);else{if(!v(r))throw{message:"The Array shorthand 'e-for=\"myArray\"' only work with object literal, not with primitives."};(t=r).$scope=i}return t},this.getDelimiters=function(e){if(b(e)||""===e)return[];var n=function(e,n){for(var r=0;r<t.$$delimiters.length;r++){var i=t.$$delimiters[r],a=e.match(RegExp(i.delimiter.open+"([\\S\\s]*?)"+i.delimiter.close,n));if(a)return a}},r=n(e,"g");return r?r.map(function(e){var t=n(e);return{field:t[0],exp:C(t[1])}}):[]},this.setNodeValue=function(e,t){var n,i=e.__e__.$base,a=e.__e__.name||e.nodeName,o=e.__e__.$oldValue;if(A(e.__e__.$fields,function(r){if(b(n)){var i=q.exec({$exp:r.exp,$data:t,$json:!0,$el:e});r.field.startsWith("{html{")&&(n=i),o=o.replaceAll(r.field,i)}}),n){var s=O(n);return i.innerHTML="",te.run({el:s,data:t}),i.appendChild(s)}var l=a.startsWith("e-")&&!c.commands.hasValue(a),u=a;if(l&&(a=a.substr(2)),a in i)try{if(b(i[a]))i[a]=o;else{var f=i[a].__proto__.constructor.name;if(c.types.indexOf(f)>-1){var d=r[f];i[a]=d.call(null,o)}else switch(C(o)){case"true":i[a]=!0;break;case"false":i[a]=!1;break;default:i[a]=o}}}catch(e){i[a]=o}return e.nodeValue=o,l&&(i.valueIn(a,o),i.removeAttribute(u)),":href"!=a&&"i:href"!=a||i.valueIn("href",Z.toRoute(o)),o},this.initConnectorRequest=function(e,n){var r=c.commands,i=n||L.data,a=q.attr(e,[r.req],!0);if(a){x(e);var o=C(a.value),s={};if(!o)return T.log({message:l.invalid("e-req"),el:e});if(A(t.getDelimiters(o),function(t){o=o.replaceAll(t.field,q.exec({$exp:t.exp,$data:i,$el:e}))}),"{"===o[0]&&"{"!==o[1]?s=q.eval({$exp:o,$data:i,$el:e}):(s.$url=o,s.$type="many"),b(s.$url))return T.log({message:"The property `$url` is mandatory in e-req attribute.",el:e});switch(s.$scope=i,s.$type=b(s.$type)?"many":s.$type.toLowerCase(),s.$type){case"many":return L.read(s.$url,s.$id).then(function(t){if(!t.status)return T.log(t.message);!function(t){s.$data=t,new U(s),Q.emit({elem:e,type:c.events.response,model:s.$data,scope:i}),s.$el=e,M[s.$code||"r"+L.code(8)]=s;var n=q.attr(e,[c.commands.use],!0)||"";n&&(te.store({el:e,value:n}),n=n.value+" of ");var r=q.attr(e,[c.commands.filter],!0)||"";r&&(te.store({el:e,value:r}),r=" | "+r.value);e.valueIn("e-for",n+"$data"+r),te.run({el:e,data:u.addToObj(i,{$data:s.$data})}),f(["$id","$url"])}(t.result)}).catch(function(t){T.log(t),Q.emit({elem:e,type:c.events.fail,result:t})});case"one":return L.getOne(s.$url,s.$id).then(function(t){if(!t.status)return T.log(t.message);!function(t){var n=q.attr(e,[c.commands.use],!0)||"";n&&(te.store({el:e,value:n}),n=n.value);n?(s.$data={},s.$data[n]=t):s.$data=t;new U(s),Q.emit({elem:e,type:c.events.response,model:s.$data,scope:i}),s.$el=e,M[s.$code||"r"+L.code(8)]=s,te.run({el:e,data:u.addToObj(s.$data,i)}),f(["$id"])}(t.result)}).catch(function(t){T.log(t),Q.emit({elem:e,type:c.events.fail,result:t})});default:return T.log({message:"Unknown `$type` in e-req",el:e})}}function f(e){A(e,function(e){var n=L.watch(e,function(){var e=s.$el,r=e.__e__.com.parentNode;e&&e.__e__.com&&(e.$prevent=!0,A(e.__e__.$oldAttrs,function(t){e.valueIn(t.name,t.value)}),"many"===s.$type&&(X.collect(e.__e__.com,!0),e.removeAttribute(c.commands.for),r.insertBefore(e,e.__e__.com),r.removeChild(e.__e__.com)),e.valueIn(c.commands.req,JSON.stringify({$id:s.$id,$url:s.$url,$type:s.$type})),t.initConnectorRequest(e,s.$scope)),n.destroy()},s)})}}}({$$delimiters:S.slice(),$handleWatches:[]}),W=new function(e,t){var n=this;e||(e={});this.requested=[],this.mounted=[],this.loaded=[],this.destroyed=[],this.blocked=[],this.fail=[],this.components={},this.componentRequests={},this.paths={},this.config=t,this.skipNoFunction=function(e,t){var n=!1;w(e,function(t,r){$(t)||(n=!0,e.splice(r,1))}),n&&T.log("[BadDefinition]: All restrictions must be a function! All non-functions have been removed from the '"+t+"' component restriction list. Please reset this or these restrictions.","warn")},this.setComponent=function(e,t){var r={};return e.keys(function(e,i){if(!b(this.paths[e]))return T.log("[BadDefinition]: Cannot redefine the component '"+e+"' ");if(r[e]=g(i)?{url:i,title:void 0,route:void 0,template:void 0,data:void 0,store:!0}:i,r[e].name=e,r[e].store=!!b(r[e].store)||r[e].store,r[e].data=r[e].data?new U(r[e].data):void 0,r[e].links=[],r[e].url){var a=j(r[e].url).hrefb;a+=a.endsWith(".html")?"":".html",r[e].url=a}b(r[e].restrictions)&&(r[e].restrictions=[]),this.skipNoFunction(r[e].restrictions,e),this.paths[e]=r[e],$(t)&&t.call(this,r[e],e),k.components.config.preload&&this.get({componentKey:e,path:r[e].url,callback:function(e,t){n.components[t.componentKey]={content:e}}}),v(i)&&v(i.children)&&this.setComponent(i.children,function(e,t){e.route=i.route+e.route,r[t]=e})}.bind(this)),r},this.get=function(e){I(e.path,{method:"get",headers:{"Content-Type":"text/plain"}}).then(function(t){if(!t.ok)throw{message:"Unable to load the file: "+e.path+"\nDescription: "+t.statusText+"."};e.callback&&e.callback(t.response,e)}).catch(function(t){e.fail&&e.fail(t,e),T.log(t)})},this.transferAttributes=function(e,t){w(e.attributes,function(n){switch(n.name){case"src":case"inc-src":case"no-replace":case"keep-alive":return;case"class":return w(e.classList,function(e){t.classList.add(e)}),e.removeAttribute(n.name);default:return t.valueIn(n.name,n.value),e.removeAttribute(n.name)}})},this.include=function(e,r){if(b(e))return T.log("[BadDefinition]: Invalid value of attribute element[inc-src] or inc[src] of '"+r.desc()+"'. Or, it's undefined.");if(b(r))return T.log("[BadDefinition]: Invalid element of '"+e+"'. Or, it's undefined.");if(A(n.requested,function(e){e.call(L,r)}),"@"===e[0]){var i=e.substr(1),a=n.components[i];return a?new F({component:{content:a.content},src:i,inc:r,path:{store:!1,path:location.pathname||location.hash,data:L.retrieve(i,!0)||r.$$data||te.upData(r)},store:!1,componentConfig:t}):T.log("[NotFound]: No element[inc-tmp] with this identifier '"+e+"' defined.","warn")}var o,s=n.paths[e];if(!s){var c=T.log("No '"+e+"' component was found, please check if it's defined.");return A(n.fail,function(e){e.call(L,{message:c,inc:r})})}if(!b(s.restrictions.findOne(function(e){return!1===e.call(L)})))return A(n.blocked,function(e){e.call(L,{message:"The component was blocked by the restrictions!",inc:r})});if(s.template)return new F({component:{content:s.template},src:e,inc:r,path:s,store:s.store,componentConfig:t});o=s.url;var a=n.components[e];if(a)new F({component:a,src:e,inc:r,path:s,store:s.store,componentConfig:t});else{var l=!b(n.componentRequests[o]);n.componentRequests[o]=l?n.componentRequests[o]:[],0==l&&n.get({path:o,callback:function(e,r){A(n.componentRequests[r.path],function(n){new F({component:{content:e},src:n.src,inc:n.$inc,path:n.$path,store:n.$path.store,componentConfig:t})}),delete n.componentRequests[r.path]},fail:function(e){A(n.fail,function(t){t.call(L,{message:e.message,inc:r})})}}),n.componentRequests[o].push({src:e,$inc:r,$path:s})}},this.src=function(e){return e.valueIn("src")||e.valueIn("inc-src")},this.isInc=function(e){return"INC"===e.nodeName||e.hasAttribute&&e.hasAttribute("inc-src")},this.setComponent(e)}(k.components.elements,E);function F(e){if(this.src=e.src,this.name=(e.src+" component").toUpperCase(),this.created=e.path.created||q.empty,this.mounted=e.path.mounted||q.empty,this.loaded=e.path.loaded||q.empty,this.destroyed=e.path.destroyed||q.empty,this.scope=u.obj(L.retrieve(e.src,!0)||e.inc.$$data),this.Easy=L,this.__proto__.NOREACTIVE=!0,e.inc.parentNode){b(e.path.data)?(this.data={},e.componentConfig.keepData&&(e.path.data=this.data)):this.data=new U(e.path.data),u.addToObj(this.data,N(this.scope,"function")),this.export=function(e){if(!v(e))return T.log("[BadDefinition]: Invalid object for export, please make sure the object has valid value.");new U(e),e.keys(function(t){h(this.data,e,t),this.data[t]=e[t]}.bind(this))},this.getParams=function(){return new UrlParams(location.href,location.href.includes("?")?null:this.route)}.bind(e.path);var t,n=e.store,r=e.component,a=this,o=e.inc.hasAttribute("keep-alive"),s=[],l=[];if(o&&r["keep-alive"]){var f=r["keep-alive"];l=f.scripts,s=f.styles,(t=f.el).__e__=f.el.__e__.src,t.__e__.src=w(f.el.__e__.src)}else{var d=i.createElement("body");if(d.innerHTML=r.content,A(d.children,function(e){switch(e.nodeName){case"STYLE":case"LINK":return void s.push(e);case"SCRIPT":return void l.push(e);default:return void(t=e)}}),!t)return T.log("[BadDefinition]: The component '"+e.src+"' seems to be empty or it has not a root element, eg.: <div></div>, to be included. Please, check it!");function p(e){var t=[];return A(e.children,function(e){!function e(n){"INC"===n.nodeName||n.hasAttribute("inc-src")||("CONTENT"===n.nodeName&&t.push(n),A(n.children,function(t){e(t)}))}(e)}),t}var m=p(t);if(e.inc.children.length&&e.inc.node("content"))A(p(e.inc),function(e){var t=m.findOne(function(t){return t.valueIn("ident")===e.valueIn("ident")});if(t){var n=t.aboveMe();A(w(e.children),function(e){"SCRIPT"===e.nodeName?l.push(e):n.appendChild(e)}),n.removeChild(t)}});var g=[],$={};A(t.classList,function(e){$[e]=!0}),A(s,function(e){if(i.head.appendChild(e),e.hasAttribute("scoped")){var t="easy-s"+L.code(7);function n(e){var n="STYLE"===e.nodeName,r=[];A(e.sheet.cssRules,function(e){var i=" ";$[e.selectorText.substr(1)]&&(i=""),e.selectorText="."+t+i+e.selectorText,e.cssText="."+t+i+e.cssText,n&&r.push(e.cssText)}),n&&(e.innerText=r.join("\n"))}g.push(t),"LINK"===e.nodeName?e.onload=function(e){n(e.target)}:n(e)}}),A(g,function(e){t.classList.add(e)}),n&&!0===e.path.store&&(W.components[e.src]||(W.components[e.src]={content:r.content}),o&&(W.components[e.src]["keep-alive"]={el:t,styles:s,scripts:l},W.components[e.src].content=null)),t.__e__=e.inc.__e__,W.transferAttributes(e.inc,t);var k=q.attr(t,[c.commands.data],!0);if(k){var C=q.eval({$exp:k.value,$data:this.scope,$el:e.inc});if(C){if(_(C))return T.log("[BadDefinition]: An array cannot be exposed, try to wrap it into an object literal. Eg.: { myArray: [...] }.");C.keys(function(e,t){a.data[e]=t})}}}this.el=t;var x=function(n){if(e.inc.parentNode)try{y(this.scope)&&(this.scope=u.obj(te.upData(e.inc))),y(this.scope)||(delete this.data.$scope,this.data.$scope=this.scope),Function(n).call(this,L),this.created(t);var r=t;if(e.inc.hasAttribute("no-replace")?(e.inc.inc=e.src,e.inc.appendChild(t),r=e.inc):(t.inc=e.src,e.inc.parentNode.replaceChild(t,e.inc)),t.__e__.src.push(e.src),this.destroy=function(){r.parentNode&&r.parentNode.removeChild(r)},this.mounted(t,e.inc),A(W.mounted,function(e){e.call(L,t)}),te.run({el:t,data:this.data,skipAutoCompile:!0,done:function(){a.loaded(t),A(W.loaded,function(e){e.call(L,t)})}}),!t.parentNode||!t.parentNode.parentNode)return;var c=t.parentNode;W.isInc(c)&&(c=c.parentNode);var l=new MutationObserver(function(){var e=c.children[0];W.isInc(t)&&!o&&t!=e&&(t=e),!1===t.isConnected&&(a.destroyed(t),A(W.destroyed,function(e){e.call(L,t)}),w(s,function(e){i.head.removeChild(e)}),l.disconnect())});l.observe(c,{childList:!0})}catch(t){t.file=w(e.inc.__e__.src),T.log(t)}};if(0===l.length)return x.call(this);var j=[],O={},I=[];return A(l,function(e){""==e.src||e.innerHTML?j.push(e.innerHTML):I.push(e.src)}),0==I.length?x.call(this,j.join("\n\n")):A(I,function(t){var n=t.substr(location.origin.length+1);O[n]=!0,W.get({path:n,callback:function(e,t){if(delete O[t.path],j.unshift(e),0==O.keys().length)return x.call(a,j.join("\n\n"))},fail:function(t){throw A(W.fail,function(n){n.call(L,{message:t.message,inc:e.inc})}),t}})})}}function Y(t){var n=t.object,r=t.property,i=n[r];if(!1===m(n,r).writable)return this;if(i instanceof Node||v(i)&&i.__proto__.NOREACTIVE)return this;if(!b(m(n,r).get))return this;if($(i))return n[r]=i.bind(L),this;var a={descriptor:null,property:r,value:i,binds:[],watches:[]};p(n,r,{get:function(){return e&&e(n,a),a.value},set:function(){var e=arguments[0],t=a.value;if(e!==t){if(v(e))if(_(e)){var i=A(e,function(e){return v(e)?new U(e):e});a.value.splice(0,a.value.length),a.value.push.apply(a.value,i)}else b(n[r])||e instanceof Node?n[r]=e:(n[r].mapObj(e,!0),new U(n[r]));else a.value=e;w(a.binds,function(n){var r,i;n.isObj?function(e,t,n){function r(e){return _(e)?"array":typeof e}var i=r(t),a=r(n),o=e.el;if(i!==a)return T.log("[BadDefinition]: The types of the objects are diferents, Old Type: "+a+"; New Type: "+i+". You need to set the same object types to performe the change in the DOM.");"array"===i&&"#comment"===o.nodeName&&(X.collect(o,!0),H.cmd.for({el:o.$tmp,array:t,comment:o,data:e.obj}))}(n,e,t):(r=n.el,i=n.obj,H.setNodeValue(r,i)),n.el.com&&!0===n.el.com.isConnected||n.el.__e__.$base&&!0===n.el.__e__.$base.isConnected||(n.el instanceof Node&&!1===n.el.isConnected?n.bind.destroy():"ownerElement"in n.el&&b(n.el.ownerElement)&&n.bind.destroy())}),w(a.watches,function(n){n.callback(e,t)})}}}),a.descriptor=m(n,r),n[r]=a.value,this.descriptor=a.descriptor}function X(t){this.refs={};var n,r=this,i=t.property;e=function(){n=arguments};var a=t.object[i];f();var o=n[1];return a.__proto__=Object.create(Array.prototype),A(["push","pop","unshift","shift","splice"],function(e){r.refs[e]=a[e].bind(a),a.__proto__[e]=function(){var t,n=u.array(a),i=r.refs[e].apply(a,arguments);switch(e){case"push":case"unshift":w(arguments,function(e){new U(e)})}return t={array:a,oldArray:n,method:e,args:arguments,return:i},A(o.binds,function(e){if(!e.isObj)return H.setNodeValue(e.el,e.obj);if(!0===k.config.rerenderOnArrayChange)X.collect(e.el,!0),H.cmd.for({el:e.el.$tmp,array:t.array,comment:e.el,data:e.obj});else{var n=X.collect(e.el);function r(n,r){H.cmd.for({el:e.el.$tmp,array:n.keys().map(function(e){return n[e]}),comment:e.el,data:e.obj,neighbor:r,index:t.array.length-1})}switch(t.method){case"push":r(t.args);break;case"unshift":r(t.args,n[0]);break;case"pop":case"shift":var i=n[t.method]();i&&i.parentNode.removeChild(i);break;case"splice":A(n.splice.apply(n,t.args),function(e){e.parentNode.removeChild(e)})}}}),A(o.watches,function(e){e.callback.call(L,t.array,t.oldArray)}),b(a.done)||a.done(e,arguments),i}},this),this}function U(e){if(e||(e={}),!v(e))return e;for(var t in e){var n=e[t];if(!(n instanceof Node||v(n)&&n.__proto__.NOREACTIVE)&&(b(m(e,t).get)&&(new Y({object:e,property:t}),"object"==typeof n&&!b(n))))if(_(n))new X({object:e,property:t}),A(n,function(e,t){new Y({object:n,property:t}),new U(e)});else{if("Inc"===n.constructor.name||"Easy"===n.constructor.name||n instanceof Node)continue;new U(n)}}return e}function J(e){var t,n,r;if(this.el=e.el,this.layer=e.layer,this.lastLayer=e.lastLayer,this.property=e.property,this.two=e.two||!1,!b(this.property)&&(e.property.binds.findOne(function(t){return t.el===e.el})||(t={obj:this.layer,el:this.el,bind:this},this.property.binds.push(t)),!0===this.two)){p(this.el.__e__.bind,"val",m(this.lastLayer,this.property.property));r={TEXTAREA:"INPUT",DIV:"INPUT"}[r=this.el.nodeName]||r,n=function(){if(!e.el.__e__||!e.el.__e__.bind)return T.log("[Bad Definition], Data Binding was not configured in the element, please, make sure that the element was compiled before binding.");var t=e.el.__e__.bind,n=e.el[t.field];b(n)||n===t.val||(t.val=n)},this.el.addEventListener(r.toLowerCase(),n,!1),this.el.addEventListener("propertychange",n,!1),this.el.addEventListener("change",n,!1)}this.destroy=function(){n&&(delete this.el.__e__.bind,this.el.removeEventListener(r.toLowerCase(),n,!1),this.el.removeEventListener("propertychange",n,!1),this.el.removeEventListener("change",n,!1)),this.property.binds.indexOf(t)>-1&&this.property.binds.remove(t)}}function z(e){var t;this.property=e.property,this.callback=e.callback,b(this.property)||(t={property:this.property,callback:this.callback},this.property.watches.push(t)),this.destroy=function(){this.property.watches.indexOf(t)>-1&&this.property.watches.remove(t)}}function K(t){this.reference=void 0;var n,r=t.dec,i=t.array,a=t.filter,o=t.data,s=this;if(!a)return{reference:void 0};var c=a.split(":");if(-1!==a.indexOf(":")&&""===C(c[0])&&""!==C(c[1]))i.filtered=A(i.value,function(e,n){var i=e;return r&&!v(e)&&((i={})[C(r.first)]=e,r.sec&&(i[C(r.sec)]=n)),q.eval({$exp:c[1],$data:i,$el:t.el})}),this.reference=t.actions.run(i.filtered||i.value);else{var u,d=i.value,h="global";if(-1!==a.indexOf(":"))h="targeted";else{var p=C(a);$(u=q.eval({$exp:p,$data:o,$el:t.el}))&&(h="function")}function m(e){return b(e)&&(e=""),t.actions.clean(),d="function"===h?u.call(L,i.value,e):A(i.value,function(n){if("global"===h)return n.hasValue(e.toLowerCase(),{ignoreCase:!0,comp:"match"});var r=!1;return C(c[1]).split(",").findOne(function(i){var a=q.eval({$exp:i,$data:n,$el:t.el});return a?r=(a+"").toLowerCase().match(e.toLowerCase()):(T.log(l.invalid(a+" in "+i)),!1)}),r}),t.actions.run(d)}var _=[];e=function(){_.push(arguments)};var g=q.eval({$exp:c[0],$data:o,$el:t.el});f(),this.reference=m(g),A(_,function(e){n=z.exec(e[1].property,function(e){if(!1===s.reference.isConnected)return s.destroy();m(e)},e[0])})}this.destroy=function(){n&&n.destroy()}}function G(e){var t={};if(t.reference=e.reference,t.elem=e.elem,t.data=e.data,t.array=e.array.value,t.attr=e.attr=q.attr(e.elem,[c.commands.order])||(e.elem.__e__.$oldAttrs||[]).findOne(function(e){return e.name===c.commands.order}),!t.attr)return t;t.attr.com=t.reference;var n,r=H.getDelimiters(t.attr.value),i=[];return t.order=function(t){return n=e.attr.value.split(":"),G.exec(t,n[0],n[1])},r.length?(te.run({el:e.attr,data:e.data}),A(r,function(n){i.push(z.exec(n.exp,function(){if(!1===t.reference.isConnected)return t.destroy();e.actions.run.call(t)},e.data))})):te.store({el:t.attr,value:t.attr}),t.array=t.order(u.array(e.array.value)),e.array.value.__proto__.done||(e.array.value.__proto__.done=function(e,n){t.array[e].apply(t.array,n)}),t.destroy=function(){A(i,function(e){e.destroy()})},t}function Q(e,t,n){var r=this;this.name="Easy event",this.type=e,this.base=t,this.target=t,n&&n.keys(function(e,t){r[e]=t})}function Z(e){this.hasRouteView=!b(q.attr(e.el,["route-view"],!0)),this.routeView=e.el,this.manuallyMarkedAsActive=null;var t=e.includer,n=function(e,t,n){return{message:"It is not allowed to define more than one "+e+" page.\n  Please, choose between '"+t+"' and '"+n+"' in components definition."}};try{for(var a in t.paths){var o=t.paths[a];if(!0===o.isDefault){if(!b(this.defaultPage))throw n("default",this.defaultPage.name,a);this.defaultPage=o}else if(!0===o.isNotFound){if(!b(this.notFoundPage))throw n("notFound",this.notFoundPage.name,a);this.notFoundPage=o}}}catch(e){return T.log(e.message)}if(this.clear=function(){this.routeView.innerHTML=""},this.navegate=function(e,n){var r={},a=function(e,n){var r=j(e),i=r.href.replaceAll(r.anchor.baseURI),a=t.config.usehash;n.url=r.href;return a&&r.hash.match(/(^#$)|(^\/#$)|(^#\/$)|(^\/#\/$)/g)?i="/":a&&i.match(/(^#)|(^\/#)|(^#\/)|(^\/#\/)/g)&&(i=r.hash),""===(i=(i=("/"===i[0]?i:"/"+i).trim()).split("?")[0])||"/"===i||"/index.html"===i?this.defaultPage:Z.getPath(i)||this.notFoundPage}.call(this,e,r);if(this.clear(),!a){if((e||"").endsWith(".html"))return;return T.log("[NotFound]: ðŸ›¸ 404 Page not found!!!")}if(!a.isNotFound||!(e||"").endsWith(".html")){a.title&&(i.title=a.title),b(n)&&a.route&&this.pushState(r.url,a.title);var o=i.createElement("inc");o.valueIn("src",a.name),!0===a.keepAlive&&o.valueIn("keep-alive",""),this.routeView.appendChild(o),this.manuallyMarkedAsActive&&(this.manuallyMarkedAsActive.classList.remove("active-link"),this.manuallyMarkedAsActive=null),A((Z.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),A(a.links,function(e){e.classList.add("active-link")}),Z.lastActivePath=a}},this.pushState=function(e,t){r.history.pushState({url:e},t,e)},this.popState=function(e){b(e)&&(e=-1),r.history.go(e)},this.markActive=function(e){e instanceof HTMLAnchorElement&&(this.manuallyMarkedAsActive&&this.manuallyMarkedAsActive.classList.remove("active-link"),A((Z.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),e.classList.add("active-link"),this.manuallyMarkedAsActive=e)},this.go=function(t){if(!b(t)){if(t<0)return this.popState(t);var n=e.includer.config,r=j(t);return location.href=((n.usehash?"/#/":"/")+r.pathname).replaceAll("//","/")}}.bind(this),!this.hasRouteView)return this;r.addEventListener("popstate",function(e){e.preventDefault(),this.navegate((e.state||{}).url||location.href,!0)}.bind(this)),this.navegate(location.href)}function ee(e){var t=W.paths[e];if(t)return t;T.log("[NotFound]: No '"+e+"' component was found, please check if it is defined.")}V.create=function(e,t){try{var n=this.dependencies.Connector;if(b(n))throw{message:l.conn()};var r=L.toJsObj(t);if(!r)throw{message:l.elem("create")};return n.conn.add(e,r)}catch(e){return a.reject(L.return(!1,T.log(e),null))}},V.update=function(e,t,n){try{var r=this.dependencies.Connector;if(b(r))throw{message:l.conn()};var i=L.toJsObj(t);if(!i)throw{message:l.elem("updated")};return r.conn.update(e,i,n)}catch(e){return a.reject(L.return(!1,T.log(e),null))}},V.delete=function(e,t){try{var n=this.dependencies.Connector;if(b(n))throw{message:l.conn()};if(!t)throw{message:l.invalid("id")};return n.conn.remove(e,t)}catch(e){return a.reject(L.return(!1,T.log(e),null))}},V.read=V.get=function(e,t){try{var n=this.dependencies.Connector;if(b(n))throw{message:l.conn()};return n.conn.list(e,t)}catch(e){return a.reject(L.return(!1,T.log(e),null))}},V.getOne=function(e,t){try{var n=this.dependencies.Connector;if(b(n))throw{message:l.conn()};return n.conn.getOne(e,t)}catch(e){return a.reject(L.return(!1,T.log(e),null))}},this.toJsObj=function(e,t,n){var r;if(t=d(t,{names:"[name]",values:"[value]"}),n||(n=q.empty),!e)return null;if(e instanceof Element)r=e;else{if(v(e))return e;if(g(e))try{r=i.node(e)}catch(t){return e}}if(!r)return T.log("[NotFound]: Element passed in app.toJsObj(...) was not found."),null;function a(e){return e.split(",").map(function(e){return C(e.replaceAll(["[","]"]))})}var o=c.commands.build,s=a(t.names),l=a(t.values);function f(e){var t={},r={BUTTON:!0},i={checkbox:!0,radio:!0};return function e(a){var f,d,h=q.attr(a,s);if(h){var p=h.value;if(!0===r[a.tagName])return;if(!0===i[a.type]&&!1===a.checked)return;var m=t[p],v=a.hasAttribute(c.commands.array),_=(f=a,d=null,l.findOne(function(e){return!!(d=f.valueIn(e))}),d);t[p]=v?m?u.array(m,_):[_]:m?u.array(m,_):_,n(t,p,_,a)}w(a.children,function(t){q.attr(t,[o])||e(t)})}(e),t}var h=f(r);return A(r.nodes("["+o+"]"),function(e){var t=e.valueIn(o),r=e.hasAttribute(c.commands.array),i=f(e);y(i)||function t(a,o){var s=a.split("."),c=s[0];s.shift();var l=o[c];return b(l)&&(o[c]={}),0===s.length?(r?v(l)&&!y(l)?o[c]=[u.obj(l,i)]:_(l)?l.push(i):o[c]=[i]:b(l)?o[c]=i:o[c]=u.array(y(l)?null:l,i),n(o,c,i,e)):_(l)?A(l,function(e){t(s.join("."),e)}):void t(s.join("."),o[c])}(t,h)}),h},this.css=function(e){var t=i.node('[e-style="true"]');if(!t||!0===e){var n=i.createElement("style");n.valueIn("e-style","true");var r=12,a=6,o=.35,s=function(e,t){return"transform: translate"+t+"; -webkit-transform: translate"+t+"; animation:"+e+" "+o+"s ease-out forwards; -webkit-animation:"+e+" "+o+"s ease-out forwards;"},c=function(e){return"animation:"+e+" "+o+"s ease-out forwards; -webkit-animation: "+e+" "+o+"s ease-out forwards;"},l=function(e,t){return"keyframes "+e+" { to { opacity: 1; transform: translate"+t+"; } }"};n.textContent=".hide-it { display: none !important; }inc:not([no-replace]),[inc-src]:not([no-replace]) { display:none!important; }.to-top, .to-bottom, .to-right, .to-left { opacity: 0; }.from-top, .from-bottom, .from-right, .from-left{ opacity: ."+a+"; transform: translateY(0%); -webkit-transform: translateY(0%); }.to-top {"+s("to-top","Y("+r+"%)")+" }.to-bottom { "+s("to-bottom","Y(-"+r+"%)")+" }.to-right { "+s("to-right","X(-"+r+"%)")+" }.to-left { "+s("to-right","X("+r+"%)")+" }.from-top { "+c("from-top")+" }.from-bottom { "+c("from-bottom")+" }.from-right { "+c("from-right")+" }.from-left { "+c("from-left")+" }@"+l("to-top","Y(0%)")+"@"+l("to-bottom","Y(0%)")+"@"+l("to-right","Y(0%)")+"@"+l("to-left","Y(0%)")+"@-webkit-"+l("to-top","Y(0%)")+"@-webkit-"+l("to-bottom","Y(0%)")+"@-webkit-"+l("to-right","Y(0%)")+"@-webkit-"+l("to-left","Y(0%)")+"@"+l("from-top","Y("+r+"%)")+"@"+l("from-bottom","Y(-"+r+"%)")+"@"+l("from-right","X(-"+r+"%)")+"@"+l("from-left","X("+r+"%)")+"@-webkit-"+l("from-top","Y("+r+"%)")+"@-webkit-"+l("from-bottom","Y(-"+r+"%)")+"@-webkit-"+l("from-right","X(-"+r+"%)")+"@-webkit-"+l("from-left","X("+r+"%)")+"[e-skeleton]{ background-color: "+R.background+"!important; position: relative!important; overflow: hidden; }[e-skeleton], [e-skeleton] * {  color: transparent!important; }[e-skeleton]::before, [e-skeleton]::after{ content: '';  position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: block; }[e-skeleton]::before { background-color: "+R.background+"!important; z-index: 1; }[e-skeleton]::after {  transform: translateX(-100%); background: linear-gradient(90deg, transparent, "+R.wave+", transparent); animation: loading 1.5s infinite; z-index: 2; }@keyframes loading {  100% { transform: translateX(100%); } }@-webkit-keyframes loading { 100% { transform: translateX(100%); } } ",!0===e?i.head.replaceChild(n,t):i.head.appendChild(n)}},this.code=function(e){b(e)&&(e=25);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_01234567890",n=!1,r="",i=0;i<e;i++){var a=Math.floor(Math.random()*t.length);r+=n?t[a].toLowerCase():t[a],n=!n}return r},this.setData=function(e,t){if(!b(e)){b(t)&&(t=L.data);var n=new U(e);return e.keys(function(e){var r=m(n,e,!0),i=m(t,e,!0);if(r.config&&i.config){var a=i.config,o=r.config;function s(e,t,n){return n.indexOf(e)===t}[].push.apply(a.binds,o.binds),[].push.apply(a.watches,o.watches),a.binds=a.binds.filter(s),a.watches=a.watches.filter(s)}else h(t,n,e);t[e]=n[e]}),t}},this.expose=function(e,t,n){if(_(t)||!v(t))return T.log("[BadDefinition]: Invalid data, only Object (non Array one) can be exposed, try to wrap it into an object literal!. Eg.: { myData: data }.");var r=B[e];if(!b(r))return delete B[e],A(r,function(e){var n=new U(t);n.$scope=u.obj(te.upData(e)),te.run({el:e,data:u.addToObj(n,N(n.$scope,"function"))})});D[e]&&(b(n)||!1===n)||(D[e]=function(){var e=t;return function(){return e}})},this.retrieve=function(e,t){var n,r=D[e];return r&&(n=r().call(null),b(t)||!0!==t||delete D[e]),n},this.request=function(e,t){if(!t)return T.log("[Request]: Define a callback in second parameter to get the request.");var n=M[e];n?t(n):M.keys(function(n,r){if(r.$code===e||r.$url===e)return t(r)})},this.on=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();W[n].push(t)}else{var r=P[e];r?r.push(t):P[e]=[t]}return{event:e,callback:t}},this.off=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();W[n].remove(t)}else{var r=P[e];r&&r.remove(t)}return{event:e,callback:t}},this.emit=function(e,t,n){b(n)&&(n=!1),A(u.array(P[e]),function(r){r.call(this,t,r.$target),!0===n&&this.off(e,r)},L)},this.set=function(e,t){switch(e){case"skeleton":return _(t)?T.log("[BadDefinition]: Invalid object"):((v(t)||b(t))&&(t=d(t,{background:L.options.config.skeleton.background,wave:L.options.config.skeleton.wave})),"undefined"===t.keys?T.log("[BadDefinition]: Invalid object"):(t.keys(function(e,t){R[e]=t}),L.css(!0)));case"delimiter":return!b(t)&&C(t.name)&&!b(t.delimiter)&&C(t.delimiter.open)&&C(t.delimiter.close)?(H.$$delimiters.push(t),L.delimiters=Object.freeze(H.$$delimiters)):T.log("[BadDefinition]: Invalid object, check if the object has this structure and has valid values: \n{ name: '...', delimiter: { open: '...', close: '...' } }")}},this.lazy=function(e,t){var n;t=b(t)?500:t;var r=arguments[2];return function(){var i=L,a=arguments,o=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(i,a)},t),o&&e.apply(i,a)}},this.reactive=function(t){if($(t)){var n={};e=function(e,t){Object.defineProperty(n,t.property,t.descriptor)};var r=t.call(L);if(f(),v(r))return r.keys(function(e,t){n.hasOwnProperty(e)||(n[e]=t)}),n.keys(function(e){r.hasOwnProperty(e)||"$scope"===e||delete n[e]}),new U(n),n}else T.log("[BadDefinition]: this.reactive function expects a function as parameter.")},this.use=function(e){if(!_(e))return T.log("The method 'app.use' expects an array having all the dependencies");A(e,function(e){b(e)||(e.attachedEasyInstance=this,this.dependencies[e.dependencyId||e.constructor.name]=e)},this)},this.call=function(e,t){return _(e)?A(e,function(e,n){if(!$(e)&&!0!==t)return T.log("The item-"+n+" at app.call([ ... ]), is not a `function`, try: [ function(easy){ ... } ] or app.call([ ... ], true) to ignore the null items","warn");e&&e.call(this)},this):T.log("Invalid value, try an array. Eg.: app.call([ ... ])")},J.exec=function(t,n,r,i){try{var a;if(e=function(){a=arguments},r(),a){i||(i={});var o={el:t,layer:n,lastLayer:a[0],property:a[1]};i.keys(function(e,t){o[e]=t}),new J(o)}}catch(e){throw e}finally{f()}},Z.getPath=function(e){if("/"===e&&!b(L.routing.defaultPage))return L.routing.defaultPage;for(var t in W.paths){var n=W.paths[t];if(n.route){var r=n.route.split("/").map(function(e){return":"===e[0]?"[\\S\\s]{1,}":e}).join("/");if(_(new RegExp("^"+r+"$","gi").exec(e)))return n}}},Z.toRoute=function(e){var t=j(e),n=t.anchor.baseURI;return E.usehash?n+="#":t.pathname=t.pathname.substr(1),n+=t.pathname},z.exec=function(t,n,r){if(r||(r=L.data),r.hasOwnProperty(t)){var i;e=function(){i=arguments};r[t];return f(),new z({property:i[1],callback:n})}},X.collect=function(e,t){if(!e)return[];b(t)&&(t=!1);for(var n=[],r=e.previousElementSibling;r&&(!r||!b((r.__e__||{}).aId)||e.$id===(r.__e__||{}).aId);)n.unshift(r),r=r.previousElementSibling;return!0===t&&A(n,function(e){e.aboveMe().removeChild(e)}),n},G.exec=function(e,t,n){return t||(t="asc"),e.sort(function(e,r){var i=function(e,n){if(b(e)||b(n))return 0;switch(t.toLowerCase()){case"asc":return e?1:-1;case"des":return n?-1:1;default:return T.log("[BadDefinition]: '"+t+"' is invalid type of order by. Available types are: 'asc' for order ascendent and 'des' for order descendent."),0}};return n?i(e[n]>r[n],r[n]<e[n]):i(e>r,r<e)})},Q.emit=function(e){var t=e.type,n="on:"+t;if(e.elem.hasAttribute&&e.elem.hasAttribute(n)){var i=q.attr(e.elem,[n],!0);if(""===C(i.value))return T.log("[BadDefinition]: Invalid expression in "+i.name);var a=new Q(t,e.elem,{$data:{model:e.model,scope:e.scope},result:e.result});te.store({el:e.elem,value:i});var o=m(r,"event");h(r,{event:a},"event");var s=q.eval({$exp:i.value,$data:e.scope||{},$el:e.elem});$(s)&&s.apply(L,[a]),p(r,"event",o)}};var te={set:function(e){var t=e.attr;t.__e__.name=t.__e__.name||t.nodeName,t.__e__.$oldValue=t.__e__.$oldValue||t.nodeValue},store:function(e){x(e.el);var t=e.el,n=e.value;if(t.__e__.$oldAttrs){if(t.__e__.$oldAttrs.findOne(function(e){return e==n}))return n;t.__e__.$oldAttrs.push(n)}else t.__e__.$oldAttrs=[n]},bind:function(e){var t=u.addToObj(e.scope,e.methods);return H.setNodeValue(e.current,t),A(e.current.__e__.$fields,function(n){J.exec(e.current,e.scope,function(){q.eval({$exp:n.exp,$data:t,$log:!1,$el:e.current})})})},upData:function(e){var n;t=function(e){n=e};do{if(e.__e__)if(!0===e.__e__.data)break}while(e=e.parentNode);return t=void 0,n},run:function(s){var d=s.el,h=s.data,_=h,g=N(h,"function"),k=c.commands;if(!d)return T.log("[BadDefinition]: Invalid element passed in the compiler");function j(t){var n=t.el,r=u.obj(t.$scope),a="INC"==n.nodeName?n:n.__e__.$base,o=W.src(a);a.$$data=y(r)?null:u.obj(r);var s=H.getDelimiters(o);if(1===s.length){a.valueIn("no-replace","");var c,l=a.parentNode,f=s[0],d=a.nodeName,h=q.attr(a,["inc-src","src"]),p=a,m={el:p};e=function(){c=arguments},o=q.eval({$exp:f.exp,$data:r,$el:n}),h.value=o,c&&(m.watch=L.watch(c[1].property,function(e){var t=i.createElement(d);t.valueIn("no-replace",""),"INC"===d?t.valueIn("src",e):t.valueIn("inc-src",e),l.replaceChild(t,p),m.el=p=t},c[0]),H.$handleWatches.push(m))}else if(s.length>=1)return T.log("[BadDefinition]: Only one delimiter is allowed in element[inc-src] or inc[src].\n  Check the value: '"+o+"'."),a;return W.include(o,a),a}x(d).__e__.$base=d.parentNode,0===d.__e__.src.length&&(d.__e__.src=w(((d.parentNode||{}).__e__||{}).src));var O=function t(i,a,d){var h=i.nodeName,y=i.nodeValue;switch(x(i).__e__.src=w(d.__e__.src),!0===s.force&&i.__e__.$oldAttrs&&A(i.__e__.$oldAttrs,function(e){i.attributes.setNamedItem(e)}),h){case"#comment":return;case"e-compile":i.__e__.$base.removeAttribute("e-compile");break;case"wait-data":var N=i.__e__.$base;if(!C((E=q.attr(N,["wait-data"],!0)).value))return T.log({message:l.invalid("in "+E.name),el:N});if(D[E.value]){var O=new U(L.retrieve(E.value,!0));O.$scope=u.obj(a),te.run({el:N,data:u.addToObj(O,g)})}else B[E.value]?B[E.value].push(N):B[E.value]=[N];return N.ignoreBaseCompilation=!0;case"inc-tmp":N=i.__e__.$base;return void(C((E=q.attr(N,["inc-tmp"],!0)).value)?W.components[E.value]={content:N.outerHTML}:T.log({message:"Invalid value in element[inc-tmp]. ",el:N},"warn"));case k.def:var I=q.eval({$exp:y,$data:a,$el:i});return I&&L.setData(I,a),i.__e__.$base.removeAttribute(h);case k.if:case k.show:N=i.__e__.$base;var E=q.attr(i.__e__.$base,[k.if,k.show],!0);if(""===C(i.value))return T.log({message:"Invalid expression in "+E.value,el:i});if(H.getDelimiters(i.value).length>0)return T.log(l.delimiter(h));if(i.name===k.show){i.__e__.$base=N,te.store({el:N,value:i});var M=function(){var e=q.eval({$exp:i.nodeValue,$data:a,$el:i});N.style.display=e?"":"none"},P=[];e=function(){P.push(arguments)},M(),f(),A(P,function(e){var t=L.watch(e[1].property,function(){M(),N.isConnected||t.destroy()},e[0])})}else if(i.name===k.if){var R=N,V=N.parentNode,S=[],F=function(e,t){e.com=H.com.create(),e.removeAttribute(t.nodeName),S.push({attr:t,element:e,comment:e.com,value:t.nodeValue,type:t.nodeName}),x(t).__e__.$base=N,te.store({el:e,value:t})},Y=function(e){A(S,function(e){var t=e.element.parentNode;t&&t.replaceChild(e.element.com,e.element)});for(let r=0;r<S.length;r++){var t,n=S[r];if(n.value&&(t=q.eval({$exp:n.value,$data:a,$el:i})),e&&e(),t||"e-else"==n.type){n.element.__e__.$oldAttrs.remove(n.attr),V.replaceChild(n.element,n.comment),te.run({el:n.element,data:a,force:!0,done:function(){n.element.__e__.$oldAttrs.push(n.attr)}});break}}};for(F(R,i);;){if(!(R=R.nextElementSibling))break;if(!(_e=q.attr(R,["e-else-if","e-else"])))break;if(F(R,_e),"e-else"===_e.name)break}P=[];e=function(){P.push(arguments)},Y(function(){f()}),A(P,function(e){var t=L.watch(e[1].property,function(){Y();var e=!0;A(S,function(t){1==e&&(t.comment.isConnected||t.element.isConnected)&&(e=!1)}),e&&t.destroy()},e[0])})}return;case"inc-src":return(N=j({el:i,$scope:a})).ignoreBaseCompilation=!0;case k.data:var z;N=i.__e__.$base;if(W.isInc(N))return;return(z=""===C((E=q.attr(N,[k.data],!0)).value)?u.obj(L.data):q.eval({$exp:E.value,$data:a,$el:i})||{}).$scope=u.obj(a),t(N,u.addToObj(z,g),d),Q.emit({elem:N,type:c.events.data,scope:a}),N.ignoreBaseCompilation=!0;case k.tmp:case k.fill:case k.req:N=i.__e__.$base;if(E=q.attr(N,[k.tmp,k.fill],!0)){var G=E.name===k.tmp?"many":"one",ee=q.attr(N,[k.id],!0);ee=ee?ee.value:"",N.valueIn("e-req",'{ $url: "'+E.value+'", $type: "'+G+'", $id: "'+ee+'" }')}return te.store({el:N,value:E}),te.set({attr:E}),H.initConnectorRequest(N,u.obj(a,g)),N.ignoreBaseCompilation=!0;case k.for:N=i.__e__.$base;var ne,re=H.cmd.for.read(N);if(!re.ok)return;e=function(){P=arguments};var ie=q.eval({$exp:re.array,$data:a,$el:i});f();var ae=P?P[1].descriptor:null,oe=ae?p({},"value",ae):{value:ie};return(ne=new K({el:i,array:oe,dec:re.dec,data:a,filter:re.filter,actions:{clean:function(){X.collect(ne,!0)},run:function(e){return H.cmd.for({el:N,array:e,comment:ne,data:u.obj(a,g)})}}}).reference)||(ne=H.cmd.for({el:N,array:oe.value,comment:ne,data:u.obj(a,g),read:re})),ae&&P[1].binds.push({el:ne,isObj:!0,obj:u.obj(a,g)}),N.ignoreBaseCompilation=!0;case k.content:return(N=i.__e__.$base).innerHTML=y,N.removeAttribute(h);case k.anm:N=i.__e__.$base;return b(y)||N.niceIn(y),N.removeAttribute(h);default:N=i.__e__.$base;if(h.startsWith("on:")||h.startsWith("listen:")){if(""===C(y))return T.log("[BadDefinition]: Invalid expression in "+h);var se=h.split(":")[1].split("."),ce=se[0];if("on"+ce in o)var le=N.listen(ce,function(e){-1!==se.indexOf("once")&&N.removeEventListener(ce,le[0].callback,!1),A(se,function(t){var r=n[t];r&&e[r]()}),arguments[0].$data={scope:a};var t=q.eval({$exp:y,$data:u.addToObj(a||{},g),$el:i});try{$(t)&&t.apply(L,arguments)}catch(e){T.log({message:e.message,scope:a,file:i.__e__.src})}});else{if(!b(c.events[ce]))return;var ue=function(){-1!==se.indexOf("once")&&L.off(ce,le.callback);var e=q.eval({$exp:y,$data:u.addToObj(a||{},g),$el:i});try{$(e)&&e.apply(L,arguments)}catch(e){T.log({message:e.message,scope:a,file:i.__e__.src})}};ue.$target=N;le=L.on(ce,ue)}return N.removeAttribute(h)}if("e-bind"===h||h.startsWith("e-bind:")){var fe=h.split(":"),de=1===fe.length?"value":fe[1];return"true"===N.contentEditable&&p(N,"value",{get:function(){return N.textContent},set:function(e){N.textContent!==e&&(N.textContent=e)}}),N.__e__.bind={field:de},N.__e__.$oldValue=y,N.__e__.$fields=[{exp:y,field:y}],N.__e__.$base=N,N.__e__.name=de,b(y)||""===C(y)?T.log("[BadDefinition]: e-bind attribute cannot have null or empty value."):(J.exec(N,a,function(){H.setNodeValue(N,a)},{two:!0}),N.removeAttribute(h))}if(h.startsWith("e-toggle:")){var he=h.split(":");if(b(y)||""===C(y))return T.log("[BadDefinition]: e-toggle attribute cannot have null or empty value.");function pe(){q.eval({$exp:y,$data:a,$el:i})?N.valueIn(he[1],"true"):N.removeAttribute(he[1])}if(e=function(){P=arguments},pe(be),f(),P){var me=L.watch(P[1].property,function(){pe()},P[0]);H.$handleWatches.push({el:N,watch:me})}return N.removeAttribute(h)}if(h.startsWith("e-")&&!c.commands.hasValue(h)&&0===H.getDelimiters(y).length&&""!==C(y)){if("{"!==(y=C(y))[0]||"{"===y[1])return;te.set({attr:i}),te.store({el:N,value:i});var ve=h.substr(2);N.hasAttribute(ve)||N.valueIn(ve,"");var _e=q.attr(N,[ve]);function pe(e){e&&e.keys(function(e,t){t?_e.value.includes(e)||(_e.value+=" "+e):_e.value=_e.value.replaceAll([" "+e,e])})}N.removeAttribute(h),e=function(){P=arguments};var be=q.eval({$exp:y,$data:a,$el:i});if(!v(be))return;if(pe(be),f(),P){me=L.watch(P[1].property,function(){pe(q.eval({$exp:i.__e__.$oldValue,$data:a,$el:i}))},P[0]);H.$handleWatches.push({el:N,watch:me})}}}if(!i.hasAttribute||!i.hasAttribute("e-ignore")){var ge;if(i.attributes&&(ge=i.attributes[k.data]||i.attributes[k.for]||i.attributes[k.req]||i.attributes[k.tmp]||i.attributes[k.fill]||i.attributes["wait-data"],!0===s.force&&(ge=ge||(i.__e__.$oldAttrs||[]).findOne(function(e){switch(e.nodeName){case k.data:case k.fill:case k.for:case k.req:case k.tmp:case"wait-data":return i.attributes.setNamedItem(e),!0;default:return!1}}))),A(ge?[ge]:w(i.attributes||[]),function(e){x(e).__e__.$base=i,b(m(e,"isConnected"))&&p(e,"isConnected",{get:function(){return i.isConnected},set:function(){}}),t(e,a,d)}),!0===i.ignoreBaseCompilation)return delete i.ignoreBaseCompilation;if("INC"==h)return j({el:i,$scope:a}).ignoreBaseCompilation=!0;if(i.nodeValue){var ye=i,$e=(N=i.__e__.$base,H.getDelimiters(ye.nodeValue));$e.length&&(ye.__e__.$fields=$e,"#text"!==h&&te.store({el:N,value:i}),te.set({attr:ye}),te.bind({current:ye,scope:_,methods:g}))}if(h===k.skeleton&&""===C(y)&&i.__e__.$base.removeAttribute(h),":href"===h||"i:href"===h){N=i.__e__.$base;var we=Z.getPath(i.value||"/");N.valueIn("href",Z.toRoute(i.value||"/")),we&&":href"===h&&we.links.push(N),b(Z.lastActivePath)||Z.lastActivePath!==we||L.routing.markActive(N),N.removeAttribute(h),N.addEventListener("click",function(e){e.preventDefault(),L.routing.hasRouteView?L.routing.navegate(N.href):r.location.href=N.href})}b(i.childNodes)||w(i.childNodes,function(e){_=a,x(e).__e__.$base=i,t(e,a,d)}),Q.emit({elem:i,type:c.events.compiled,scope:a})}}.bind(L),I=_;"data"in d.__e__&&delete d.__e__.data,p(d.__e__,"data",{configurable:!0,get:function(){return t&&t(I),!0},set:function(){}}),d.$prevent=s.skipAutoCompile||void 0,d.__e__.$base=d.ownerElement||d.parentNode,a.resolve({element:d,data:_,onDone:$(s.done)?s.done:q.empty}).then(function(e){O(e.element,e.data,e.element),e.onDone.call(L,e.element)}).catch(function(e){T.log(e)})}};this.components={add:W.setComponent.bind(W),get:function(e){var t=ee(e);if(!b(t)){var n=u.obj(t);return delete n.restrictions,n}},restrictions:{add:function(e,t){if(_(t)){var n=ee(e);if(!b(n))return W.skipNoFunction(t,e),n.restrictions.push.apply(n.restrictions,t)}else T.log("[BadDefinition]: "+l.invalid()+" Try an array!")},get:function(e){var t=ee(e);if(!b(t))return t.restrictions},remove:function(e,t){var n=ee(e);if(!b(n))return n.restrictions.remove(t)}}},this.watch=z.exec,this.toElement=O,this.compile=te.run.bind(this),this.setData(this.data),this.css(),this.use(k.dependencies);var ne=function(){if(this.el=i.node(s||""),!this.el)return T.log("[NotFound]: Element with selector '"+s+"' not found, please check it.");this.routing=new Z({el:this.el.node("[route-view]")||i.createElement("div"),includer:W}),k.mounted.call(this,this.el),x(L.el).__e__.src.push(".","index"),te.run({el:L.el,data:L.data,done:function(){k.loaded.call(L,L.el),H.observer(function(e){te.run({el:e,data:te.upData(e)})}).observe(L.el,{childList:!0,subtree:!0})}})}.bind(this);if(!k.config.useDOMLoadEvent)return ne();i.addEventListener("DOMContentLoaded",ne,!1)}function E(e,t){var n=this;if(this.__proto__=Object.create(E.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),this.type=t,this.thrownAt=(new Date).toLocaleString(),g(e))n.message=e;else if(v(e)){for(var r in e)h(n,e,r);Object.defineProperties(n,{message:{enumerable:!0,value:e.message},file:{enumerable:!0,value:_(e.file)?e.file.join("/"):"./index"}})}this.name=e.name||"Error",this.__proto__.toString=function(){return n.message}}return function(){function e(e,t,n){p((n||Object).prototype,e,{value:t})}function t(e){var t=e.target,n=e.otherEl,r=e.key,i=e.callback,a=e.direction,o=e.delay,s=c.animations,l=r.toLowerCase().split(":"),u=l[0];s.to.keys(function(e,n){t.classList.remove(n)}),s.from.keys(function(e,n){t.classList.remove(n)}),t.classList.add(s[a][u]);var f=l[1]||s.reverse(u);n&&n.niceOut(f),setTimeout(function(){i&&i(t,n)},b(o)?100:o)}b(Node.prototype.node)&&(e("node",function(e){return e?"#"===e[0]&&this.getElementById?this.getElementById(e.substr(1)):this.querySelector(e):null},Node),e("nodes",function(e){return e?w(this.querySelectorAll(e)):null},Node),e("keys",function(e,t){var n=this,r=Object.keys(n);return e&&($(e),1)&&A(r,function(t){e(t,n[t])},t),r}),e("mapObj",function(e,t){var n=this;return b(t)&&(t=!1),e.keys(function(e,r){var i=n[e];if(t&&v(i))_(i)||n[e].mapObj(r,t);else{var a=b(r)?n[e]:r;a!=i&&(n[e]=a)}})}),e("valueIn",function(e,t){return b(t)?null!=e?this[e]||this.getAttribute(e):this.innerText:this.setAttribute(e,t)||this.getAttribute(e)},Element),e("aboveMe",function(e){return function t(n){var r=n.parentNode;if(b(e))return r;if(r===i||b(r))return null;var a=i.createElement("body");return a.innerHTML=r.outerHTML,r.nodeName===a.nodeName?a.innerHTML="":a.children[0].innerHTML="",b(a.querySelector(e))?r.nodeName===a.nodeName?null:t(r):r}(this)},Element),e("hasValue",function(e,t){var n=this;function r(e,n){var r=e,i=n;switch(v(r)||v(i)||(r=k(e),i=k(n),t.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase())),t.comp){case"match":return r.match(i);case"equal":return r===i}}return t=d(t,{ignoreCase:!1,comp:"equal"}),!b(v(n)?n.keys().findOne(function(t){return r(n[t],e)}):r(n,e))}),e("get",function(e){return this.findOne(function(t){return t===e||!!v(t)&&t.hasValue(e)})||(Number.isInteger(e)||g(e)?this[e]:null)},Array),e("findOne",function(e){for(var t,n=this.length,r=0;r<n;r++)if(e(this[r],r)){t=this[r];break}return t},Array),e("index",function(e){var t=this.indexOf(e);return-1===t&&this.findOne(function(n,r){return!(n!==e&&!n.hasValue(e))&&(t=r,!0)}),t},Array),e("indexes",function(e,t){var n=[];return A(this,function(t,r){(t===e||t.hasValue(e))&&n.push(r)}),t&&A(n,function(e){t(e)}),n},Array),e("remove",function(e,t){try{if(b(t)&&(t=!1),e||0===e)if(!0===t)u.array(this).indexes(e,function(e){this.splice(e,1)});else{var n=this.index(e);-1===n&&Number.isInteger(1*e)&&(n=1*e),this.splice(n,1)}else this.pop()}catch(e){T.log({message:"[InternalError]: Remove function error. "+e.message,error:e})}return this},Array),e("niceIn",function(e,n,r,i){t({target:this,targetOther:n,key:e,callback:r,direction:"to",delay:i})},HTMLElement),e("niceOut",function(e,n,r,i){t({target:this,targetOther:n,key:e,callback:r,direction:"from",delay:i})},HTMLElement),e("desc",function(){return this.nodeName?u.array(this.nodeName.toLowerCase(),this.id?"#"+this.id:"",w(this.classList).map(function(e){return"."+e})).join(""):this.toString()},Element),e("listen",function(e,t){var n=_(this)?this:[this],i=[];return A(n,function(n){if(!(n instanceof Node)&&n!==r)return T.log("[BadDefinition]: Cannot apply '"+e+"'to the element"+n.desc()+".");var a={event:e,fnCallback:t,callback:function(){arguments[0].base=n,a.fnCallback.apply(a.fnCallback,arguments)},options:!1};n.addEventListener(a.event,a.callback,a.options),i.push({el:n,event:e,callback:a.callback})}),i}),e("replaceAll",function(e,t){var n=this;function r(e,t,n){for(var r=e.length,i=t.length,a="",o=0;o<r;o++)e[o]===t[0]&&e.substr(o,i)===t?(a+=n,o+=i-1):a+=e[o];return a}return b(t)&&(t=""),_(e)?A(e,function(e){n=r(n,e,t)}):n=r(n,e,t),n},String),e("startsWith",function(e){return this.substr(0,e.length)===e},String),e("endsWith",function(e){return this.substr(this.length-e.length)===e},String),e("includes",function(e){for(var t=0;t<this.length;t++)if(this.substr(t,e.length)===e)return!0;return!1},String),e("clearSkeleton",function(e){var t='[e-skeleton="'+e+'"]';this.removeAttribute("e-skeleton"),this.nodes&&A(this.nodes(t),function(e){e.removeAttribute("e-skeleton")})},Element))}(),b(a)&&((a=function(e){var t=this;this.status="pending",this.WARN="Do not 'await' this promise, it does not support await keyword.";var n=[],r=[],i=[];function a(e,n){function r(e,n){A(e,function(e){e.call(t,n)})}var a=setTimeout(function(){r(e,n),r(i),clearTimeout(a)},0);return n}return this.then=function(e,i){return n.push(e),b(i)||r.push(i),t},this.catch=function(e,i){return r.push(e),b(i)||n.push(i),t},this.finally=function(e){return i.push(e),t},e(function(e){return t.status="resolved",t.value=e,a(n,e)},function(e){return t.status="rejected",a(r,e)}),t}).resolve=function(e){return new a(function(t){return t(e)})},a.reject=function(e){return new a(function(t,n){return n(e)})}),r.UrlParams=function(e){e||(e=location.href);var t=arguments[1];if(t&&g(t)){var n=e.split("/").reverse();""===n[0]&&n.shift(),A(t.split("/").reverse(),function(e,t){":"===e[0]&&(this[e.substr(1)]=n[t])}.bind(this))}else{var r=e.split("?")[1];if(!r)return this;A(r.split("&"),function(e){var t=e.split("=");this[t[0]]=(t[1]||"").split("#")[0]}.bind(this))}this.push=function(t){if(b(e))return e;var n=[];t.keys(function(e,t){n.push(e+"="+t),this[e]=t},this);var r=n.join("&");return e.includes("?")?r:"?"+r}},T.log=function(e,t){t||(t="error");var n=function(){return console[t]("[Easy "+t+"]",new E(e,t)),e};return this instanceof T?(this.options.config.log&&n(),b(this.emit)||this.emit("log",{type:t,message:e}),e):n()},T.prototype.http=I,T.prototype.extend=u,T.prototype.return=function(e,t,n,r){return u.addToObj({status:e,message:t,result:n},r)},E.prototype=Object.create(Error.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),T});