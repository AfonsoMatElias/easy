!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Easy=t()}(window,function(){"use strict";var e,t,n={},r={stoppropagation:"stopPropagation",preventdefault:"preventDefault"},i=["push","pop","unshift","shift","splice"],o=window,a=o.document,s=a.createElement("a");s.href="http://[::1]";var c="[::1]"===s.hostname;for(var l in a.createElement("input"))l[0]+l[1]==="on"&&(n[l.substr(2)]=!0);var u={cmds:{id:"e-id",order:"e-order",anm:"e-anm",field:"text",req:"e-req",tmp:"e-tmp",fill:"e-fill",build:"e-build",array:"e-array",filter:"e-filter",if:"e-if",show:"e-show",for:"e-for",data:"data",def:"e-def",use:"e-use",toggle:"e-toggle",content:"e-content",skeleton:"e-skeleton"},anm:{to:{up:"to-top",down:"to-bottom",left:"to-left",right:"to-right"},from:{up:"from-top",down:"from-bottom",left:"from-left",right:"from-right"},reverse:function(e){switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left";default:return"none"}}},types:["String","Number","BigInt","Symbol"],events:{compiled:"compiled",add:"add",empty:"empty",response:"response",fail:"fail",data:"data"}},f={delimiter:function(e){return"The command '"+e+"' cannot contain a delimiter in expression value... The value is compiled without a delimiter."},conn:function(){return"No dependency with Id 'Connector' was found... Add the dependency to be able to use this method"},invalid:function(e){return"Invalid value"+(e?" "+e:"")+"."},elem:function(e){return"The selector or object passed for '"+e+"' is invalid, please check it."}},d={obj:function(){var e={};return arguments.keys(function(t,n){_(n)||n.keys(function(t){m(e,n,t)})}),e},addToObj:function(e){return arguments.keys(function(t,n){0!=t&&(_(n)||n.keys(function(t){m(e,n,t)}))}),e},array:function(){var e=[];return arguments.keys(function(t,n){_(n)||(g(n)?[].push.apply(e,n):e.push(n))}),e}};function h(){e=void 0}function p(e,t){return e||(e={}),t||(t={}),t.keys(function(t,n){_(e[t])&&(e[t]=n)}),e}function m(e,t,n){v(e,n,b(t,n))}function v(e,t,n){return Object.defineProperty(e,t,n),e}function b(t,n,r){if(!r)return Object.getOwnPropertyDescriptor(t,n);var i;e=function(){i=arguments};t[n];return h(),{descriptor:Object.getOwnPropertyDescriptor(t,n),config:i?i[1]:null}}function y(e){return e instanceof Object}function g(e){return Array.isArray(e)}function _(e){return void 0===e||null==e}function w(e){return void 0!==e&&"string"==typeof e}function k(e){return!e||0===e.keys().length}function $(e,t,n){if(!e)return[];var r=[].slice.call(e);return t&&C(r,t,n),r}function A(e){return e?e+"":""}function C(e,t,n){if(!e||!e.length)return[];var r,i=e.length,o=[];for(r=0;r<i;r++)t.call(n,e[r],r)&&o.push(e[r]);return o}function O(e){return e?e.trim():e}function N(e){return e.__e__||(e.__e__={}),e}function j(e,t){var n={};return e&&e.keys(function(e,r){typeof r===t&&(n[e]=r)}),n}function I(e){if(!w(e))return e;var t=e;a.documentMode&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t);var n=s.hostname;!c&&n.indexOf(":")>-1&&(n="["+n+"]");var r={href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:n,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname,anchor:s};return r.origin=r.protocol+"://"+r.host,r.hrefb=r.href?s.baseURI+s.href.substr(s.origin.length+1):s.baseURI,r}function E(e){if(_(e))return null;var t=a.createElement("body");return t.innerHTML=e,t.children[0]}function x(e,t){if(!e)return T.log("[BadDefinition]: Invalid url");var n={};(t||{}).keys(function(e,t){n[e]=t}),!n.method||n.method;var r=function(e){if(!(!a.documentMode||e.match(/^(get|post|head|put|delete|options)$/i)&&window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw{message:"This browser does not support XMLHttpRequest."}}(n.method);return n.url=e,n.timeout=n.timeout||12e4,new Promise(function(i,o){r.open(n.method,n.url,n.async||!0),r.timeout=n.timeout,(t.headers||{}).keys(function(e,t){t&&r.setRequestHeader(e,t)}),r.onload=function(){var t=r.statusText||"",i="response"in r?r.response:r.responseText,o=1223===r.status?204:r.status;0===o&&(o=i?200:"file"===I(e).protocol?404:0),n.ok=o>=200&&o<400,n.status=o,a(o,i,r.getAllResponseHeaders(),t,"complete")};var a=function(e,t,o,a,s){r=null,n.response=t,n.responseHeaders=o,n.statusText=a,n.statusMessage=s,i(n)};r.onerror=function(){a(-1,null,null,"","error")},r.onabort=function(){a(-1,null,null,"","abort")},r.ontimeout=function(){a(-1,null,null,"","timeout")},n.withCredentials&&(r.withCredentials=!0),n.type=n.type||"";try{r.responseType=n.type}catch(e){if("json"!==n.type)throw e}return r.send(t.body||null),n})}function T(s,c){if(!(this instanceof T))return T.log("[BadDefinition]: Easy is a constructor and should be called with the 'new' keyword."),this;this.name="Easy",this.version="2.3.1",this.data={},this.dependencies={};var l,A=this,D={},P={},M={},B={},R={background:"#E2E2E2",wave:"#ffffff5d"},S=new function(){this.empty=function(){},this.eval=function(e,t,n,r){if(t||(t={}),!_(e)&&""!==e){(_(n)||!0===n)&&(e="this.$return="+e);try{S.spreadData(function(){Function(e).apply(A,r)},t)}catch(e){T.log({message:e.message,scope:t})}var i=A.$return;return delete A.$return,i}},this.exec=function(e,t,n){try{_(n)&&(n=!1);var r=S.eval(e,t);return _(r)?"":(n&&y(r)&&(r=JSON.stringify(r)),r)}catch(e){return""}},this.attr=function(e,t,n){if(e&&t&&(_(n)&&(n=!1),!_(e.attributes))){for(var r,i=0;i<t.length&&!(r=e.attributes[t[i]]);i++);return r&&n&&e.removeAttribute(r.name),r}},this.spreadData=function(e,t){var n=[],r={},i={};y(t)&&(n=t.keys());try{C(n,function(e){o.hasOwnProperty(e)&&(!0===b(o,e).configurable?m(r,o,e):i[e]=o[e]),i.hasOwnProperty(e)?o[e]=t[e]:m(o,t,e)}),e.call(A)}catch(e){throw e}finally{i.keys(function(e,n){t[e]!==o[e]&&(t[e]=o[e]),o[e]=n}),C(n,function(e){i.hasOwnProperty(e)||delete o[e]}),C(Object.keys(r),function(e){m(o,r,e)})}}},V=Object.create(T.prototype);this.__proto__=V,this.__proto__.NOREACTIVE=!0;var q=[{name:"easy",delimiter:{open:"-e-",close:"-"}},{name:"common",delimiter:{open:"{{",close:"}}"}},{name:"html",delimiter:{open:"{html{",close:"}}"}}];(c=p(c,{config:{},data:{},components:{},mounted:S.empty,loaded:S.empty,dependencies:[]})).data=p(c.data,{}),c.components=p(c.components,{elements:{},config:{}}),c.components.config=p(c.components.config,{usehash:!0,keepData:!1,preload:!1}),c.config=p(c.config,{deepIgnore:!1,rerenderOnArrayChange:!1,log:!0,useDOMLoadEvent:!0,skeleton:{background:"#E2E2E2",wave:"#ffffff5d"}}),R=d.obj(c.config.skeleton),l=c.components.config,this.delimiters=Object.freeze(q),this.options=c,T.log=function(e,t){return t||(t="error"),A.options.config.log&&console[t]("[Easy "+t+"]",L(e,t)),_(A.emit)||A.emit("log",{type:t,message:e}),e},_(c.components.config.base)||T.log('The property component.config.`base` is deprecated, use only the <base href="..."/> element at the top of the <head> children.',"warn");var H=new function(e){var t=this;this.$$delimiters=e.$$delimiters,this.$handleWatches=e.$handleWatches,this.observer={mutation:function(e){return new MutationObserver(function(n){C(n,function(n){C(n.addedNodes,function(t){if(!(t.aboveMe&&t.hasAttribute("e-ignore")||!0===A.options.config.deepIgnore&&t.aboveMe&&t.aboveMe("[e-ignore]")||t.$prevent)){switch(t.nodeName){case"#comment":case"SCRIPT":case"#text":case"STYLE":return}(W.isInc(t)||t.hasAttribute&&t.hasAttribute("e-compile"))&&e(t)}}),n.removedNodes.length&&($(P.keys(),function(e){var t=P[e];"many"===t.$type?!1===t.$el.__e__.com.isConnected&&delete P[e]:!1===t.$el.isConnected&&delete P[e]}),$(t.$handleWatches,function(e,n){!1===e.el.isConnected&&(t.$handleWatches.splice(n,1),e.watch.destroy())}))})})}},this.com={create:function(e,t){t||(t={});var n=N(a.createComment("e"));return n.easy=!0,n.$id=e||A.code(8),t.keys(function(e,t){n[e]=t}),n},get:function(e,n){if(!_(n))return t.com.getAll(e,n).findOne(function(e){return e.$id===n})},getAll:function(e,t){if(!e)return[];for(var n,r=a.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},!1),i=[];n=r.nextNode();)n.$id!==t&&void 0!==t||i.push(n);return i}},this.cmd={for:function(e){var n=e.el,r=e.array,i=e.comment,o=e.data;try{var a=u.cmds.for,s=S.attr(n,[a]);if(t.getDelimiters(s.value).length>0)return void T.log(f.delimiter(u.cmds.for));if(!r)return void T.log({message:"It seems like the array defined in e-for has invalid value",elem:n,expression:s.value});var c=t.cmd.for.read(n);if(!i){var l=n.aId=A.code(10);i=t.com.create(l,{$tmp:n}),n.__e__.com=i,n.aboveMe().replaceChild(i,n)}var h=j(o,"function");function p(r){C(r,function(s,l){var f=n.cloneNode(!0),p={};C([a,u.cmds.order],function(e){f.removeAttribute(e)}),f.aId=n.aId,p=t.cmd.for.item({item:s,dec:c.dec,data:o,array:r,index:l,extIndex:e.index});var m=d.addToObj(p,h);F.compile({el:f,data:m,skipAutoCompile:!0}),ee.emit({elem:f,type:u.events.add,model:p,scope:m}),i.parentNode.insertBefore(f,e.neighbor||i)})}var m=Z({elem:n,data:o,reference:i,array:{value:r},actions:{run:function(){z.retrieveElems(i,!0),p(this.order(this.array))}}});p(m.array),0===m.array.length&&ee.emit({elem:n,type:u.events.empty})}catch(e){return void T.log(e.message)}return i}},this.cmd.for.read=function(e){var t=S.attr(e,[u.cmds.for]);if(!t.value)return{ok:!1,msg:T.log("[BadDefinition]: Invalid expression in e-for")};function n(e,t){var n=e.includes(t);return n?e.split(t):void 0}var r,i,o,a,s,c=n(t.value," of ")||n(t.value," in ")||[t.value],l=1;if(1===c.length?l=0:r=c[0],a=c[l].split("|"),i=a[0],o=a[1],r){var f=r.replaceAll(["(",")"]).split(",");s={first:f[0],sec:f[1]}}return{ok:!0,dec:s,array:O(i),filter:O(o)}},this.cmd.for.item=function(e){var t={},n=e.dec,r=e.item,i=e.data,o=e.array,a=e.index,s=e.extIndex;if(n)Object.defineProperty(t,O(n.first),b(o,a)),_(n.sec)||(t[O(n.sec)]=_(s)?a:s,new U({object:t,property:O(n.sec)})),t=d.addToObj(t,i);else{if(!y(r))throw{message:"The Array shorthand 'e-for=\"myArray\"' only work with object literal, not with primitives."};(t=r).$scope=i}return t},this.getDelimiters=function(e){if(_(e)||""===e)return[];var n=function(e,n){for(var r=0;r<t.$$delimiters.length;r++){var i=t.$$delimiters[r],o=e.match(RegExp(i.delimiter.open+"([\\S\\s]*?)"+i.delimiter.close,n));if(o)return o}},r=n(e,"g");return r?r.map(function(e){var t=n(e);return{field:t[0],exp:O(t[1])}}):[]},this.setNodeValue=function(e,t){var n,r=e.__e__.$base,i=e.__e__.name||e.nodeName,a=e.__e__.$oldValue;if(C(e.__e__.$fields,function(e){if(_(n)){var r=S.exec(e.exp,t,!0);e.field.startsWith("{html{")&&(n=r),a=a.replaceAll(e.field,r)}}),n){var s=E(n);return r.innerHTML="",F.compile({el:s,data:t}),r.appendChild(s)}var c=i.startsWith("e-")&&!u.cmds.hasValue(i),l=i;if(c&&(i=i.substr(2)),i in r)try{if(_(r[i]))r[i]=a;else{var f=r[i].__proto__.constructor.name;if(u.types.indexOf(f)>-1){var d=o[f];r[i]=d.call(null,a)}else switch(O(a)){case"true":r[i]=!0;break;case"false":r[i]=!1;break;default:r[i]=a}}}catch(e){r[i]=a}return e.nodeValue=a,c&&(r.valueIn(i,a),r.removeAttribute(l)),":href"!=i&&"i:href"!=i||r.valueIn("href",te.normalizeRoute(a)),a},this.initConnectorRequest=function(e,n){var r=u.cmds,i=n||A.data,o=S.attr(e,[r.req],!0);if(o){N(e);var a=O(o.value),s={};if(!a)return T.log({message:f.invalid("e-req"),el:e});if(C(t.getDelimiters(a),function(e){a=a.replaceAll(e.field,S.exec(e.exp,i))}),"{"===a[0]&&"{"!==a[1]?s=S.eval(a,i):(s.$url=a,s.$type="many"),_(s.$url))return T.log({message:"The property `$url` is mandatory in e-req attribute.",el:e});switch(s.$scope=i,s.$type=_(s.$type)?"many":s.$type.toLowerCase(),s.$type){case"many":return A.read(s.$url,s.$id).then(function(t){if(!t.status)return T.log(t.message);!function(t){s.$data=t,new J(s),ee.emit({elem:e,type:u.events.response,model:s.$data,scope:i}),s.$el=e,P[s.$code||"r"+A.code(8)]=s;var n=S.attr(e,[u.cmds.use],!0)||"";n&&(F.addOldAttr({el:e,value:n}),n=n.value+" of ");var r=S.attr(e,[u.cmds.filter],!0)||"";r&&(F.addOldAttr({el:e,value:r}),r=" | "+r.value);e.valueIn("e-for",n+"$data"+r),F.compile({el:e,data:d.addToObj(i,{$data:s.$data})}),c(["$id","$url"])}(t.result)}).catch(function(t){T.log(t),ee.emit({elem:e,type:u.events.fail,result:t})});case"one":return A.getOne(s.$url,s.$id).then(function(t){if(!t.status)return T.log(t.message);!function(t){var n=S.attr(e,[u.cmds.use],!0)||"";n&&(F.addOldAttr({el:e,value:n}),n=n.value);n?(s.$data={},s.$data[n]=t):s.$data=t;new J(s),ee.emit({elem:e,type:u.events.response,model:s.$data,scope:i}),s.$el=e,P[s.$code||"r"+A.code(8)]=s,F.compile({el:e,data:d.addToObj(s.$data,i)}),c(["$id"])}(t.result)}).catch(function(t){T.log(t),ee.emit({elem:e,type:u.events.fail,result:t})});default:return T.log({message:"Unknown `$type` in e-req",el:e})}}function c(e){C(e,function(e){var n=A.watch(e,function(){var e=s.$el,r=e.__e__.com.parentNode;e&&e.__e__.com&&(e.$prevent=!0,C(e.__e__.$oldAttrs,function(t){e.valueIn(t.name,t.value)}),"many"===s.$type&&(z.retrieveElems(e.__e__.com,!0),e.removeAttribute(u.cmds.for),r.insertBefore(e,e.__e__.com),r.removeChild(e.__e__.com)),e.valueIn(u.cmds.req,JSON.stringify({$id:s.$id,$url:s.$url,$type:s.$type})),t.initConnectorRequest(e,s.$scope)),n.destroy()},s)})}}}({$$delimiters:q.slice(),$handleWatches:[]}),W=new function(e,t){var n=this;e||(e={});this.requested=[],this.mounted=[],this.loaded=[],this.destroyed=[],this.blocked=[],this.fail=[],this.components={},this.componentRequests={},this.paths={},this.config=t,this.skipNoFunction=function(e,t){var n=!1;$(e,function(t,r){"function"!=typeof t&&(n=!0,e.splice(r,1))}),n&&T.log("[BadDefinition]: All restrictions must be a function! All non-functions have been removed from the '"+t+"' component restriction list. Please reset this or these restrictions.","warn")},this.setComponent=function(e,t){var r={};return e.keys(function(e,i){if(!_(this.paths[e]))return T.log("[BadDefinition]: Cannot redefine the component '"+e+"' ");r[e]=w(i)?{url:i,title:void 0,route:void 0,template:void 0,data:void 0,store:!0}:i,r[e].name=e,r[e].store=!!_(r[e].store)||r[e].store,r[e].data=r[e].data?new J(r[e].data):void 0,r[e].links=[];var o=I(r[e].url).hrefb;o+=o.endsWith(".html")?"":".html",r[e].url=o,_(r[e].restrictions)&&(r[e].restrictions=[]),this.skipNoFunction(r[e].restrictions,e),this.paths[e]=r[e],_(t)||"function"!=typeof t||t.call(this,r[e],e),c.components.config.preload&&this.get({componentKey:e,path:r[e].url,callback:function(e,t){n.components[t.componentKey]={content:e}}}),y(i)&&y(i.children)&&this.setComponent(i.children,function(e,t){e.route=i.route+e.route,r[t]=e})}.bind(this)),r},this.get=function(e){x(e.path,{method:"get",headers:{"Content-Type":"text/plain"}}).then(function(t){if(!t.ok)throw{message:"Unable to load the file: "+e.path+"\nDescription: "+t.statusText+"."};e.callback&&e.callback(t.response,e)}).catch(function(t){e.fail&&e.fail(t,e),T.log(t)})},this.transferAttributes=function(e,t){$(e.attributes,function(n){switch(n.name){case"src":case"inc-src":case"no-replace":case"keep-alive":return;case"class":return $(e.classList,function(e){t.classList.add(e)}),e.removeAttribute(n.name);default:return t.valueIn(n.name,n.value),e.removeAttribute(n.name)}})},this.include=function(e,r){if(_(e))return T.log("[BadDefinition]: Invalid value of attribute element[inc-src] or inc[src] of '"+r.desc()+"'. Or, it's undefined.");if(_(r))return T.log("[BadDefinition]: Invalid element of '"+e+"'. Or, it's undefined.");if(C(n.requested,function(e){e.call(A,r)}),"@"===e[0]){var i=e.substr(1),o=n.components[i];if(!o)return T.log("[NotFound]: No element[inc-tmp] with this identifier '@"+i+"' defined.","warn");var a=E(o.content);return r.hasAttribute("no-replace")?(r.inc=i,r.appendChild(a)):(a.inc=i,r.aboveMe().replaceChild(a,r)),n.transferAttributes(r,a),F.compile({el:a,skipAutoCompile:!0,data:A.retrieve(e,!0)||r.$$data||F.getScopeData(a)}),void C(n.loaded,function(e){e.call(A,a)})}var s,c=n.paths[e];if(!c){var l="No '"+e+"' component was found, please check if it's defined.";return C(n.fail,function(e){e.call(A,{message:l,inc:r})}),T.log(l)}if(!_(c.restrictions.findOne(function(e){return!1===e.call(A)})))return C(n.blocked,function(e){e.call(A,{message:"The component was blocked by the restrictions verification!",inc:r})});if(c.template)return new X({component:{content:c.template},src:e,inc:r,path:c,store:c.store,componentConfig:t});s=c.url;var o=n.components[e];if(o)new X({component:o,src:e,inc:r,path:c,store:c.store,componentConfig:t});else{var u=!_(n.componentRequests[s]);n.componentRequests[s]=u?n.componentRequests[s]:[],0==u&&n.get({path:s,callback:function(e,r){C(n.componentRequests[r.path],function(n){new X({component:{content:e},src:n.src,inc:n.$inc,path:n.$path,store:n.$path.store,componentConfig:t})}),delete n.componentRequests[r.path]},fail:function(e){C(n.fail,function(t){t.call(A,{message:e.message,inc:r})})}}),n.componentRequests[s].push({src:e,$inc:r,$path:c})}},this.src=function(e){return e.valueIn("src")||e.valueIn("inc-src")},this.isInc=function(e){return"INC"===e.nodeName||e.hasAttribute&&e.hasAttribute("inc-src")},this.setComponent(e)}(c.components.elements,l);function Y(e){var t=W.paths[e];if(!_(t))return t;T.log("[NotFound]: No '"+e+"' component was found, please check if it is defined.")}function F(){}function X(e){if(this.src=e.src,this.name=(e.src+" component").toUpperCase(),this.created=this.mounted=S.empty,this.loaded=this.destroyed=S.empty,this.scope=d.obj(A.retrieve(e.src,!0)||e.inc.$$data),this.Easy=A,this.__proto__.NOREACTIVE=!0,e.inc.parentNode){_(e.path.data)?(this.data={},e.componentConfig.keepData&&(e.path.data=this.data)):this.data=new J(e.path.data),this.export=function(e){if(!y(e))return T.log("[BadDefinition]: Invalid object for export, please make sure the object has valid value.");new J(e),e.keys(function(t){m(this.data,e,t),this.data[t]=e[t]}.bind(this))},this.getParams=function(){return new UrlParams(location.href,location.href.includes("?")?null:this.route)}.bind(e.path);var t,n=e.store,r=e.component,i=this,o=e.inc.hasAttribute("keep-alive"),s=[],c=[];if(o&&r["keep-alive"]){var l=r["keep-alive"];c=l.scripts,s=l.styles,t=l.el}else{var f=a.createElement("body");if(f.innerHTML=r.content,C(f.children,function(e){switch(e.nodeName){case"STYLE":case"LINK":return void s.push(e);case"SCRIPT":return void c.push(e);default:return void(t=e)}}),!t)return T.log("[BadDefinition]: The component '"+e.src+"' seems to be empty or it has not a root element, eg.: <div></div>, to be included. Please, check it!");function h(e){var t=[];return C(e.children,function(e){!function e(n){"INC"===n.nodeName||n.hasAttribute("inc-src")||("CONTENT"===n.nodeName&&t.push(n),C(n.children,function(t){e(t)}))}(e)}),t}var p=h(t);if(e.inc.children.length&&e.inc.node("content"))C(h(e.inc),function(e){var t=p.findOne(function(t){return t.valueIn("ident")===e.valueIn("ident")});if(t){var n=t.aboveMe();C($(e.children),function(e){"SCRIPT"===e.nodeName?c.push(e):n.appendChild(e)}),n.removeChild(t)}});var v=[],b={};C(t.classList,function(e){b[e]=!0}),C(s,function(e){if(a.head.appendChild(e),e.hasAttribute("scoped")){var t="easy-s"+A.code(7);function n(e){var n="STYLE"===e.nodeName,r=[];C(e.sheet.cssRules,function(e){var i=" ";b[e.selectorText.substr(1)]&&(i=""),e.selectorText="."+t+i+e.selectorText,e.cssText="."+t+i+e.cssText,n&&r.push(e.cssText)}),n&&(e.innerText=r.join("\n"))}v.push(t),"LINK"===e.nodeName?e.onload=function(e){n(e.target)}:n(e)}}),C(v,function(e){t.classList.add(e)}),n&&!0===e.path.store&&(W.components[e.src]||(W.components[e.src]={content:r.content}),o&&(W.components[e.src]["keep-alive"]={el:t,styles:s,scripts:c},W.components[e.src].content=null)),t.__e__=e.inc.__e__,W.transferAttributes(e.inc,t);var w=S.attr(t,[u.cmds.data],!0);if(w){var O=S.eval(w.value,this.scope);if(O){if(g(O))return T.log("[BadDefinition]: An array cannot be exposed, try to wrap it into an object literal. Eg.: { myArray: [...] }.");O.keys(function(e,t){i.data[e]=t})}}}this.el=t;var N=function(n){if(e.inc.parentNode)try{k(this.scope)&&(this.scope=d.obj(F.getScopeData(e.inc))),k(this.scope)||(delete this.data.$scope,this.data.$scope=this.scope),Function(n).call(this,A),this.created(t);var r=t;if(e.inc.hasAttribute("no-replace")?(e.inc.inc=e.src,e.inc.appendChild(t),r=e.inc):(t.inc=e.src,e.inc.parentNode.replaceChild(t,e.inc)),this.destroy=function(){r.parentNode&&r.parentNode.removeChild(r)},this.mounted(t,e.inc),C(W.mounted,function(e){e.call(A,t)}),F.compile({el:t,data:this.data,skipAutoCompile:!0}),this.loaded(t),C(W.loaded,function(e){e.call(A,t)}),!t.parentNode||!t.parentNode.parentNode)return;var c=t.parentNode;W.isInc(c)&&(c=c.parentNode);var l=new MutationObserver(function(){var e=c.children[0];W.isInc(t)&&!o&&t!=e&&(t=e),!1===t.isConnected&&(i.destroyed(t),C(W.destroyed,function(e){e.call(A,t)}),$(s,function(e){a.head.removeChild(e)}),l.disconnect())});l.observe(c,{childList:!0})}catch(t){t.file=e.path.url||e.src,T.log(t)}};if(0===c.length)return N.call(this);var j=[],I={},E=[];return C(c,function(e){""==e.src||e.innerHTML?j.push(e.innerHTML):E.push(e.src)}),0==E.length?N.call(this,j.join("\n\n")):C(E,function(t){var n=t.substr(location.origin.length+1);I[n]=!0,W.get({path:n,callback:function(e,t){if(delete I[t.path],j.unshift(e),0==I.keys().length)return N.call(i,j.join("\n\n"))},fail:function(t){throw C(W.fail,function(n){n.call(A,{message:t.message,inc:e.inc})}),t}})})}}function U(t){var n=t.object,r=t.property,i=n[r];if(!1===b(n,r).writable)return this;if(i instanceof Element||y(i)&&i.__proto__.NOREACTIVE)return this;if(!_(b(n,r).get))return this;if("function"==typeof i)return n[r]=i.bind(A),this;var o={descriptor:null,property:r,value:i,binds:[],watches:[]};v(n,r,{get:function(){return e&&e(n,o),o.value},set:function(){var e=arguments[0],t=o.value;if(e!==t){if(y(e))if(g(e)){var i=C(e,function(e){return y(e)?new J(e):e});o.value.splice(0,o.value.length),o.value.push.apply(o.value,i)}else _(n[r])||e instanceof Element?n[r]=e:(n[r].mapObj(e,!0),new J(n[r]));else o.value=e;$(o.binds,function(n){var r,i;n.isObj?function(e,t,n){function r(e){return g(e)?"array":typeof e}var i=r(t),o=r(n),a=e.el;if(i!==o)return T.log("[BadDefinition]: The types of the objects are diferents, Old Type: "+o+"; New Type: "+i+". You need to set the same object types to performe the change in the DOM.");"array"===i&&"#comment"===a.nodeName&&(z.retrieveElems(a,!0),H.cmd.for({el:a.$tmp,array:t,comment:a,data:e.obj}))}(n,e,t):(r=n.el,i=n.obj,H.setNodeValue(r,i)),n.el.com&&!0===n.el.com.isConnected||n.el.__e__.$base&&!0===n.el.__e__.$base.isConnected||(n.el instanceof Element&&!1===n.el.isConnected?n.bind.destroy():"ownerElement"in n.el&&_(n.el.ownerElement)&&n.bind.destroy())}),$(o.watches,function(n){n.callback(e,t)})}}}),o.descriptor=b(n,r),n[r]=o.value}function z(t){this.refs={};var n,r=this,o=t.property;e=function(){n=arguments};var a=t.object[o];h();var s=n[1];return a.__proto__=Object.create(Array.prototype),C(i,function(e){r.refs[e]=a[e].bind(a),a.__proto__[e]=function(){var t,n=d.array(a),i=r.refs[e].apply(a,arguments);switch(e){case"push":case"unshift":$(arguments,function(e){new J(e)})}return t={array:a,oldArray:n,method:e,args:arguments,return:i},C(s.binds,function(e){if(!e.isObj)return H.setNodeValue(e.el,e.obj);if(!0===c.config.rerenderOnArrayChange)z.retrieveElems(e.el,!0),H.cmd.for({el:e.el.$tmp,array:t.array,comment:e.el,data:e.obj});else{var n=z.retrieveElems(e.el);function r(n,r){H.cmd.for({el:e.el.$tmp,array:n.keys().map(function(e){return n[e]}),comment:e.el,data:e.obj,neighbor:r,index:t.array.length-1})}switch(t.method){case"push":r(t.args);break;case"unshift":r(t.args,n[0]);break;case"pop":case"shift":var i=n[t.method]();i&&i.parentNode.removeChild(i);break;case"splice":C(n.splice.apply(n,t.args),function(e){e.parentNode.removeChild(e)})}}}),C(s.watches,function(e){e.callback.call(A,t.array,t.oldArray)}),_(a.done)||a.done(e,arguments),i}},this),this}function J(e){if(e||(e={}),!y(e))return e;for(var t in e){var n=e[t];if(!(n instanceof Element||y(n)&&n.__proto__.NOREACTIVE)&&(_(b(e,t).get)&&(new U({object:e,property:t}),"object"==typeof n&&!_(n))))if(g(n))new z({object:e,property:t}),C(n,function(e,t){new U({object:n,property:t}),new J(e)});else{if("Inc"===n.constructor.name||"Easy"===n.constructor.name||n instanceof Node)continue;new J(n)}}return e}function K(e){var t,n,r;if(this.el=e.el,this.layer=e.layer,this.lastLayer=e.lastLayer,this.property=e.property,this.two=e.two||!1,!_(this.property)&&(e.property.binds.findOne(function(t){return t.el===e.el})||(t={obj:this.layer,el:this.el,bind:this},this.property.binds.push(t)),!0===this.two)){v(this.el.__e__.bind,"val",b(this.lastLayer,this.property.property));r={TEXTAREA:"INPUT",DIV:"INPUT"}[r=this.el.nodeName]||r,n=function(){if(!e.el.__e__||!e.el.__e__.bind)return T.log("[Bad Definition], Data Binding was not configured in the element, please, make sure that the element was compiled before binding.");var t=e.el.__e__.bind,n=e.el[t.field];_(n)||n===t.val||(t.val=n)},this.el.addEventListener(r.toLowerCase(),n,!1),this.el.addEventListener("propertychange",n,!1),this.el.addEventListener("change",n,!1)}this.destroy=function(){n&&(delete this.el.__e__.bind,this.el.removeEventListener(r.toLowerCase(),n,!1),this.el.removeEventListener("propertychange",n,!1),this.el.removeEventListener("change",n,!1)),this.property.binds.indexOf(t)>-1&&this.property.binds.remove(t)}}function G(e){var t;this.property=e.property,this.callback=e.callback,_(this.property)||(t={property:this.property,callback:this.callback},this.property.watches.push(t)),this.destroy=function(){this.property.watches.indexOf(t)>-1&&this.property.watches.remove(t)}}function Q(t){this.reference=void 0;var n,r=t.dec,i=t.array,o=t.filter,a=t.data,s=this;if(!o)return{reference:void 0};var c=o.split(":");if(-1!==o.indexOf(":")&&""===O(c[0])&&""!==O(c[1]))i.filtered=C(i.value,function(e,t){var n=e;return r&&!y(e)&&((n={})[O(r.first)]=e,r.sec&&(n[O(r.sec)]=t)),S.eval(c[1],n)}),this.reference=t.actions.run(i.filtered||i.value);else{var l,u=i.value,d="global";if(-1!==o.indexOf(":"))d="targeted";else{var p=O(o);"function"==typeof(l=S.eval(p,a))&&(d="function")}function m(e){return _(e)&&(e=""),t.actions.clean(),u="function"===d?l.call(A,i.value,e):C(i.value,function(t){if("global"===d)return t.hasValue(e.toLowerCase(),{ignoreCase:!0,comp:"match"});var n=!1;return O(c[1]).split(",").findOne(function(r){var i=S.eval(r,t);return i?n=(i+"").toLowerCase().match(e.toLowerCase()):(T.log(f.invalid(i+" in "+r)),!1)}),n}),t.actions.run(u)}var v=[];e=function(){v.push(arguments)};var b=S.eval(c[0],a);h(),this.reference=m(b),C(v,function(e){n=G.exec(e[1].property,function(e){if(!1===s.reference.isConnected)return s.destroy();m(e)},e[0])})}this.destroy=function(){n&&n.destroy()}}function Z(e){var t={};if(t.reference=e.reference,t.elem=e.elem,t.data=e.data,t.array=e.array.value,t.attr=e.attr=S.attr(e.elem,[u.cmds.order])||(e.elem.__e__.$oldAttrs||[]).findOne(function(e){return e.name===u.cmds.order}),!t.attr)return t;t.attr.com=t.reference;var n,r=H.getDelimiters(t.attr.value),i=[];return t.order=function(t){return n=e.attr.value.split(":"),Z.exec(t,n[0],n[1])},r.length?(F.compile({el:e.attr,data:e.data}),C(r,function(n){i.push(G.exec(n.exp,function(){if(!1===t.reference.isConnected)return t.destroy();e.actions.run.call(t)},e.data))})):F.addOldAttr({el:t.attr,value:t.attr}),t.array=t.order(d.array(e.array.value)),e.array.value.__proto__.done||(e.array.value.__proto__.done=function(e,n){t.array[e].apply(t.array,n)}),t.destroy=function(){C(i,function(e){e.destroy()})},t}function ee(e,t,n){var r=this;this.name="Easy event",this.type=e,this.base=t,this.target=t,n&&n.keys(function(e,t){r[e]=t})}function te(e){this.routeView=e.el,this.routeView.removeAttribute("route-view"),this.manuallyMarkedAsActive=null;var t=e.includer,n=function(e,t,n){return{message:"It is not allowed to define more than one "+e+" page.\n  Please, choose between '"+t+"' and '"+n+"' in components definition."}};try{for(var r in t.paths){var i=t.paths[r];if(!0===i.isDefault){if(!_(this.defaultPage))throw n("default",this.defaultPage.name,r);this.defaultPage=i}else if(!0===i.isNotFound){if(!_(this.notFoundPage))throw n("notFound",this.notFoundPage.name,r);this.notFoundPage=i}}}catch(e){return T.log(e.message)}this.clear=function(){this.routeView.innerHTML=""},this.navegate=function(e,n){var r={},i=function(e,n){var r=I(e),i=r.href.replaceAll(r.anchor.baseURI),o=t.config.usehash;n.url=r.href;return o&&r.hash.match(/(^#$)|(^\/#$)|(^#\/$)|(^\/#\/$)/g)?i="/":o&&i.match(/(^#)|(^\/#)|(^#\/)|(^\/#\/)/g)&&(i=r.hash),""===(i=(i=("/"===i[0]?i:"/"+i).trim()).split("?")[0])||"/"===i||"/index.html"===i?this.defaultPage:te.findPath(i)||this.notFoundPage}.call(this,e,r);if(this.clear(),!i)return T.log("[NotFound]: ðŸ›¸ 404 Page not found!!!");i.title&&(a.title=i.title),_(n)&&i.route&&this.pushState(r.url,i.title);var o=a.createElement("inc");o.valueIn("src",i.name),!0===i.keepAlive&&o.valueIn("keep-alive",""),this.routeView.appendChild(o),this.manuallyMarkedAsActive&&(this.manuallyMarkedAsActive.classList.remove("active-link"),this.manuallyMarkedAsActive=null),C((te.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),C(i.links,function(e){e.classList.add("active-link")}),te.lastActivePath=i},this.pushState=function(e,t){o.history.pushState({url:e},t,e)},this.popState=function(e){_(e)&&(e=-1),o.history.go(e)},this.markActive=function(e){e instanceof HTMLAnchorElement&&(this.manuallyMarkedAsActive&&this.manuallyMarkedAsActive.classList.remove("active-link"),C((te.lastActivePath||{}).links,function(e){e.classList.remove("active-link")}),e.classList.add("active-link"),this.manuallyMarkedAsActive=e)},this.go=function(t){if(!_(t)){if(t<0)return this.popState(t);var n=e.includer.config,r=I(t);return location.href=((n.usehash?"/#/":"/")+r.pathname).replaceAll("//","/")}}.bind(this),o.addEventListener("popstate",function(e){e.preventDefault(),this.navegate((e.state||{}).url||location.href,!0)}.bind(this)),this.navegate(location.href),te.navegate=this.navegate.bind(this)}V.create=function(e,t){try{var n=this.dependencies.Connector;if(_(n))throw{message:f.conn()};var r=A.toJsObj(t);if(!r)throw{message:f.elem("create")};return n.conn.add(e,r)}catch(e){return Promise.reject(A.return(!1,T.log(e),null))}},V.update=function(e,t,n){try{var r=this.dependencies.Connector;if(_(r))throw{message:f.conn()};var i=A.toJsObj(t);if(!i)throw{message:f.elem("updated")};return r.conn.update(e,i,n)}catch(e){return Promise.reject(A.return(!1,T.log(e),null))}},V.delete=function(e,t){try{var n=this.dependencies.Connector;if(_(n))throw{message:f.conn()};if(!t)throw{message:f.invalid("id")};return n.conn.remove(e,t)}catch(e){return Promise.reject(A.return(!1,T.log(e),null))}},V.get=function(e,t){try{var n=this.dependencies.Connector;if(_(n))throw{message:f.conn()};return n.conn.list(e,t)}catch(e){return Promise.reject(A.return(!1,T.log(e),null))}},V.getOne=function(e,t){try{var n=this.dependencies.Connector;if(_(n))throw{message:f.conn()};return n.conn.getOne(e,t)}catch(e){return Promise.reject(A.return(!1,T.log(e),null))}},V.read=V.get,V.toJsObj=function(e,t,n){var r;if(t=p(t,{names:"[name]",values:"[value]"}),n||(n=S.empty),!e)return null;if(e instanceof Element)r=e;else{if(y(e))return e;if(w(e))try{r=a.node(e)}catch(t){return e}}if(!r)return T.log("[NotFound]: Element passed in app.toJsObj(...) was not found."),null;function i(e){return e.split(",").map(function(e){return O(e.replaceAll(["[","]"]))})}var o=u.cmds.build,s=i(t.names),c=i(t.values);function l(e){var t={},r={BUTTON:!0},i={checkbox:!0,radio:!0};return function e(a){var l,f,h=S.attr(a,s);if(h){var p=h.value;if(!0===r[a.tagName])return;if(!0===i[a.type]&&!1===a.checked)return;var m=t[p],v=a.hasAttribute(u.cmds.array),b=(l=a,f=null,c.findOne(function(e){return!!(f=l.valueIn(e))}),f);t[p]=v?m?d.array(m,b):[b]:m?d.array(m,b):b,n(t,p,b,a)}$(a.children,function(t){S.attr(t,[o])||e(t)})}(e),t}var f=l(r);return C(r.nodes("["+o+"]"),function(e){var t=e.valueIn(o),r=e.hasAttribute(u.cmds.array),i=l(e);k(i)||function t(o,a){var s=o.split("."),c=s[0];s.shift();var l=a[c];return _(l)&&(a[c]={}),0===s.length?(r?y(l)&&!k(l)?a[c]=[d.obj(l,i)]:g(l)?l.push(i):a[c]=[i]:_(l)?a[c]=i:a[c]=d.array(k(l)?null:l,i),n(a,c,i,e)):g(l)?C(l,function(e){t(s.join("."),e)}):void t(s.join("."),a[c])}(t,f)}),f},V.css=function(e){var t=a.node('[e-style="true"]');if(!t||!0===e){var n=a.createElement("style");n.valueIn("e-style","true");var r=12,i=6,o=.35,s=function(e,t){return"transform: translate"+t+"; -webkit-transform: translate"+t+"; animation:"+e+" "+o+"s ease-out forwards; -webkit-animation:"+e+" "+o+"s ease-out forwards;"},c=function(e){return"animation:"+e+" "+o+"s ease-out forwards; -webkit-animation: "+e+" "+o+"s ease-out forwards;"},l=function(e,t){return"keyframes "+e+" { to { opacity: 1; transform: translate"+t+"; } }"};n.textContent=".hide-it { display: none !important; }inc:not([no-replace]),[inc-src]:not([no-replace]) { display:none!important; }.to-top, .to-bottom, .to-right, .to-left { opacity: 0; }.from-top, .from-bottom, .from-right, .from-left{ opacity: ."+i+"; transform: translateY(0%); -webkit-transform: translateY(0%); }.to-top {"+s("to-top","Y("+r+"%)")+" }.to-bottom { "+s("to-bottom","Y(-"+r+"%)")+" }.to-right { "+s("to-right","X(-"+r+"%)")+" }.to-left { "+s("to-right","X("+r+"%)")+" }.from-top { "+c("from-top")+" }.from-bottom { "+c("from-bottom")+" }.from-right { "+c("from-right")+" }.from-left { "+c("from-left")+" }@"+l("to-top","Y(0%)")+"@"+l("to-bottom","Y(0%)")+"@"+l("to-right","Y(0%)")+"@"+l("to-left","Y(0%)")+"@-webkit-"+l("to-top","Y(0%)")+"@-webkit-"+l("to-bottom","Y(0%)")+"@-webkit-"+l("to-right","Y(0%)")+"@-webkit-"+l("to-left","Y(0%)")+"@"+l("from-top","Y("+r+"%)")+"@"+l("from-bottom","Y(-"+r+"%)")+"@"+l("from-right","X(-"+r+"%)")+"@"+l("from-left","X("+r+"%)")+"@-webkit-"+l("from-top","Y("+r+"%)")+"@-webkit-"+l("from-bottom","Y(-"+r+"%)")+"@-webkit-"+l("from-right","X(-"+r+"%)")+"@-webkit-"+l("from-left","X("+r+"%)")+"[e-skeleton]{ background-color: "+R.background+"!important; position: relative!important; overflow: hidden; }[e-skeleton], [e-skeleton] * {  color: transparent!important; }[e-skeleton]::before, [e-skeleton]::after{ content: '';  position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: block; }[e-skeleton]::before { background-color: "+R.background+"!important; z-index: 1; }[e-skeleton]::after {  transform: translateX(-100%); background: linear-gradient(90deg, transparent, "+R.wave+", transparent); animation: loading 1.5s infinite; z-index: 2; }@keyframes loading {  100% { transform: translateX(100%); } }@-webkit-keyframes loading { 100% { transform: translateX(100%); } } ",!0===e?a.head.replaceChild(n,t):a.head.appendChild(n)}},V.code=function(e){_(e)&&(e=25);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ_01234567890",n=!1,r="",i=0;i<e;i++){var o=Math.floor(Math.random()*t.length);r+=n?t[o].toLowerCase():t[o],n=!n}return r},V.setData=function(e,t){if(!_(e)){_(t)&&(t=A.data);var n=new J(e);return e.keys(function(e){var r=b(n,e,!0),i=b(t,e,!0);if(r.config&&i.config){var o=i.config,a=r.config;function s(e,t,n){return n.indexOf(e)===t}[].push.apply(o.binds,a.binds),[].push.apply(o.watches,a.watches),o.binds=o.binds.filter(s),o.watches=o.watches.filter(s)}else m(t,n,e);t[e]=n[e]}),t}},V.expose=function(e,t,n){if(g(t)||!y(t))return T.log("[BadDefinition]: Invalid data, only Object (non Array one) can be exposed, try to wrap it into an object literal!. Eg.: { myData: data }.");var r=B[e];if(!_(r))return delete B[e],C(r,function(e){var n=new J(t);n.$scope=d.obj(F.getScopeData(e)),F.compile({el:e,data:d.addToObj(n,j(n.$scope,"function"))})});D[e]&&(_(n)||!1===n)||(D[e]=function(){var e=t;return function(){return e}})},V.retrieve=function(e,t){var n,r=D[e];return r&&(n=r().call(null),_(t)||!0!==t||delete D[e]),n},V.request=function(e,t){if(!t)return T.log("[Request]: Define a callback in second parameter to get the request.");var n=P[e];n?t(n):P.keys(function(n,r){if(r.$code===e||r.$url===e)return t(r)})},V.on=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();W[n].push(t)}else{var r=M[e];r?r.push(t):M[e]=[t]}return{event:e,callback:t}},V.off=function(e,t){if(e.startsWith("inc")){var n=e.substr("inc".length).toLowerCase();W[n].remove(t)}else{var r=M[e];r&&r.remove(t)}return{event:e,callback:t}},V.emit=function(e,t,n){_(n)&&(n=!1),C(d.array(M[e]),function(r){r.call(this,t,r.$target),!0===n&&this.off(e,r)},A)},V.set=function(e,t){switch(e){case"skeleton":return g(t)?T.log("[BadDefinition]: Invalid object"):((y(t)||_(t))&&(t=p(t,{background:A.options.config.skeleton.background,wave:A.options.config.skeleton.wave})),"undefined"===t.keys?T.log("[BadDefinition]: Invalid object"):(t.keys(function(e,t){R[e]=t}),A.css(!0)));case"delimiter":return!_(t)&&O(t.name)&&!_(t.delimiter)&&O(t.delimiter.open)&&O(t.delimiter.close)?(H.$$delimiters.push(t),A.delimiters=Object.freeze(H.$$delimiters)):T.log("[BadDefinition]: Invalid object, check if the object has this structure and has valid values: \n{ name: '...', delimiter: { open: '...', close: '...' } }")}},V.components={add:W.setComponent.bind(W),get:function(e){var t=Y(e);if(!_(t)){var n=d.obj(t);return delete n.restrictions,n}},restrictions:{add:function(e,t){if(g(t)){var n=Y(e);if(!_(n))return W.skipNoFunction(t,e),n.restrictions.push.apply(n.restrictions,t)}else T.log("[BadDefinition]: "+f.invalid()+" Try an array!")},get:function(e){var t=Y(e);if(!_(t))return t.restrictions},remove:function(e,t){var n=Y(e);if(!_(n))return n.restrictions.remove(t)}}},V.lazy=function(e,t){var n;t=_(t)?500:t;var r=arguments[2];return function(){var i=A,o=arguments,a=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(i,o)},t),a&&e.apply(i,o)}},V.reactive=function(t){if("function"==typeof t){var n={};e=function(e,t){Object.defineProperty(n,t.property,t.descriptor)};var r=t.call(A);if(h(),y(r))return r.keys(function(e,t){n.hasOwnProperty(e)||(n[e]=t)}),n.keys(function(e){r.hasOwnProperty(e)||"$scope"===e||delete n[e]}),new J(n),n}else T.log("[BadDefinition]: this.reactive function expects a function as parameter.")},V.compile=F.compile=function(i){var s=i.el,c=i.data,l=c,p=j(c,"function"),m=u.cmds;if(!s)return T.log("[BadDefinition]: Invalid element passed in the compiler");function g(t){var n=t.el,r=d.obj(t.$scope),i="INC"==n.nodeName?n:n.__e__.$base,o=W.src(i);i.$$data=k(r)?null:d.obj(r);var s=H.getDelimiters(o);if(1===s.length){i.valueIn("no-replace","");var c,l=i.parentNode,u=s[0],f=i.nodeName,h=S.attr(i,["inc-src","src"]),p=i,m={el:p};e=function(){c=arguments},o=S.eval(u.exp,r),h.value=o,c&&(m.watch=A.watch(c[1].property,function(e){var t=a.createElement(f);t.valueIn("no-replace",""),"INC"===f?t.valueIn("src",e):t.valueIn("inc-src",e),l.replaceChild(t,p),m.el=p=t},c[0]),H.$handleWatches.push(m))}else if(s.length>=1)return T.log("[BadDefinition]: Only one delimiter is allowed in element[inc-src] or inc[src].\n  Check the value: '"+o+"'."),i;return W.include(o,i),i}function w(t,a){var s=t.nodeName,c=t.nodeValue;switch(N(t),!0===i.force&&t.__e__.$oldAttrs&&C(t.__e__.$oldAttrs,function(e){t.attributes.setNamedItem(e)}),s){case"#comment":return;case"e-compile":t.removeAttribute("e-compile");break;case"wait-data":var k=t.__e__.$base;if(!O((E=S.attr(k,["wait-data"],!0)).value))return T.log({message:f.invalid("in "+E.name),el:k});if(D[E.value]){var j=new J(A.retrieve(E.value,!0));j.$scope=d.obj(a),F.compile({el:k,data:d.addToObj(j,p)})}else B[E.value]?B[E.value].push(k):B[E.value]=[k];return k.ignoreBaseCompilation=!0;case"inc-tmp":k=t.__e__.$base;return void(O((E=S.attr(k,["inc-tmp"],!0)).value)?W.components[E.value]={content:k.outerHTML}:T.log({message:"Invalid value in element[inc-tmp]. ",el:k},"warn"));case m.def:var I=S.eval(c,a);return I&&A.setData(I,a),t.__e__.$base.removeAttribute(s);case m.if:case m.show:k=t.__e__.$base;var E=S.attr(t.__e__.$base,[m.if,m.show],!0);if(""===O(t.value))return T.log({message:"Invalid expression in "+E.value,el:t});if(H.getDelimiters(t.value).length>0)return T.log(f.delimiter(s));if(t.name===m.show){t.__e__.$base=k,F.addOldAttr({el:k,value:t});var x=function(){var e=S.eval(t.nodeValue,a);k.style.display=e?"":"none"},L=[];e=function(){L.push(arguments)},x(),h(),C(L,function(e){var t=A.watch(e[1].property,function(){x(),k.isConnected||t.destroy()},e[0])})}else{var P=k,M=k.parentNode,R=[],V=function(e,t){e.com=H.com.create(),e.removeAttribute(t.nodeName),R.push({attr:t,element:e,comment:e.com,value:t.nodeValue,type:t.nodeName}),N(t).__e__.$base=k,F.addOldAttr({el:e,value:t})},q=function(){C(R,function(e){var t=e.element.parentNode;t&&t.replaceChild(e.element.com,e.element)});for(let n=0;n<R.length;n++){var e,t=R[n];if(t.value&&(e=S.eval(t.value,a)),e||"e-else"==t.type){t.element.__e__.$oldAttrs.remove(t.attr),M.replaceChild(t.element,t.comment),F.compile({el:t.element,data:a,force:!0,done:function(){t.element.__e__.$oldAttrs.push(t.attr)}});break}}};for(V(P,t);;){if(!(P=P.nextElementSibling))break;if(!(me=S.attr(P,["e-else-if","e-else"])))break;if(V(P,me),"e-else"===me.name)break}L=[];e=function(){L.push(arguments)},q(),h(),C(L,function(e){var t=A.watch(e[1].property,function(){q();var e=!0;C(R,function(t){1==e&&(t.comment.isConnected||t.element.isConnected)&&(e=!1)}),e&&t.destroy()},e[0])})}return;case"inc-src":return(k=g({el:t,$scope:a})).ignoreBaseCompilation=!0;case m.data:var Y;k=t.__e__.$base;if(W.isInc(k))return;return(Y=""===O((E=S.attr(k,[m.data],!0)).value)?d.obj(A.data):S.eval(E.value,a)||{}).$scope=d.obj(a),w.call(A,k,d.addToObj(Y,p)),ee.emit({elem:k,type:u.events.data,scope:a}),k.ignoreBaseCompilation=!0;case m.tmp:case m.fill:case m.req:k=t.__e__.$base;if(E=S.attr(k,[m.tmp,m.fill],!0)){var X=E.name===m.tmp?"many":"one",U=S.attr(k,[m.id],!0);U=U?U.value:"",k.valueIn("e-req",'{ $url: "'+E.value+'", $type: "'+X+'", $id: "'+U+'" }')}return H.initConnectorRequest(k,d.obj(a,this.methods)),k.ignoreBaseCompilation=!0;case m.for:k=t.__e__.$base;var G,Z=H.cmd.for.read(k);if(!Z.ok)return;e=function(){L=arguments};var ne=S.eval(Z.array,a);h();var re=L?L[1].descriptor:null,ie=re?v({},"value",re):{value:ne};return(G=new Q({array:ie,dec:Z.dec,data:a,filter:Z.filter,actions:{clean:function(){z.retrieveElems(G,!0)},run:function(e){return H.cmd.for({el:k,array:e,comment:G,data:d.obj(a,p)})}}}).reference)||(G=H.cmd.for({el:k,array:ie.value,comment:G,data:d.obj(a,this.methods),read:Z})),re&&L[1].binds.push({el:G,isObj:!0,obj:d.obj(a,p)}),k.ignoreBaseCompilation=!0;case m.content:return(k=t.__e__.$base).innerHTML=c,k.removeAttribute(s);case m.anm:k=t.__e__.$base;return _(c)||k.niceIn(c),k.removeAttribute(s);default:k=t.__e__.$base;if(s.startsWith("on:")||s.startsWith("listen:")){if(""===O(c))return T.log("[BadDefinition]: Invalid expression in "+s);var oe=s.split(":")[1].split("."),ae=oe[0];if(!0===n[ae])var se=k.listen(ae,function(e){-1!==oe.indexOf("once")&&k.removeEventListener(ae,se[0].callback,!1),C(oe,function(t){var n=r[t];n&&e[n]()}),arguments[0].$data={scope:a};var t=S.eval(c,d.addToObj(a,p)||{});"function"==typeof t&&t.apply(A,arguments)});else{if(!_(u.events[ae]))return;var ce=function(){-1!==oe.indexOf("once")&&A.off(ae,se.callback);var e=S.eval(c,d.addToObj(a,p)||{});"function"==typeof e&&e.apply(A,arguments)};ce.$target=k;se=A.on(ae,ce)}return k.removeAttribute(s)}if("e-bind"===s||s.startsWith("e-bind:")){var le=s.split(":"),ue=1===le.length?"value":le[1];return"true"===k.contentEditable&&v(k,"value",{get:function(){return k.textContent},set:function(e){k.textContent!==e&&(k.textContent=e)}}),k.__e__.bind={field:ue},k.__e__.$oldValue=c,k.__e__.$fields=[{exp:c,field:c}],k.__e__.$base=k,k.__e__.name=ue,_(c)||""===O(c)?T.log("[BadDefinition]: e-bind attribute cannot have null or empty value."):(K.exec(k,a,function(){H.setNodeValue(k,a)},{two:!0}),k.removeAttribute(s))}if(s.startsWith("e-toggle:")){var fe=s.split(":");if(_(c)||""===O(c))return T.log("[BadDefinition]: e-toggle attribute cannot have null or empty value.");function de(){S.eval(c,a)?k.valueIn(fe[1],"true"):k.removeAttribute(fe[1])}if(e=function(){L=arguments},de(ve),h(),L){var he=A.watch(L[1].property,function(){de()},L[0]);H.$handleWatches.push({el:k,watch:he})}return k.removeAttribute(s)}if(s.startsWith("e-")&&!u.cmds.hasValue(s)&&0===H.getDelimiters(c).length&&""!==O(c)){if("{"!==(c=O(c))[0]||"{"===c[1])return;F.setDefault({attr:t}),F.addOldAttr({el:k,value:t});var pe=s.substr(2);k.hasAttribute(pe)||k.valueIn(pe,"");var me=S.attr(k,[pe]);function de(e){e&&e.keys(function(e,t){t?me.value.includes(e)||(me.value+=" "+e):me.value=me.value.replaceAll([" "+e,e])})}k.removeAttribute(s),e=function(){L=arguments};var ve=S.eval(c,a);if(!y(ve))return;if(de(ve),h(),L){he=A.watch(L[1].property,function(){de(S.eval(t.__e__.$oldValue,a))},L[0]);H.$handleWatches.push({el:k,watch:he})}}}var be;if(t.attributes&&(be=t.attributes[m.data]||t.attributes[m.fill]||t.attributes[m.for]||t.attributes[m.req]||t.attributes[m.tmp]||t.attributes[m.fill]||t.attributes["wait-data"]),C(be?[be]:$(t.attributes||[]),function(e){N(e).__e__.$base=t,_(b(e,"isConnected"))&&v(e,"isConnected",{get:function(){return t.isConnected},set:function(){}}),w.call(A,e,a)}),!t.hasAttribute||!t.hasAttribute("e-ignore")){if(!0===t.ignoreBaseCompilation)return delete t.ignoreBaseCompilation;if("INC"==s)return g({el:t,$scope:a}).ignoreBaseCompilation=!0;if(t.nodeValue){var ye=t,ge=(k=t.__e__.$base,H.getDelimiters(ye.nodeValue));ge.length&&(ye.__e__.$fields=ge,"#text"!==s&&F.addOldAttr({el:k,value:t}),F.setDefault({attr:ye}),F.setValue({current:ye,scope:l,methods:p}))}if(s===m.skeleton&&""===O(c)&&t.__e__.$base.removeAttribute(s),":href"===s||"i:href"===s){k=t.__e__.$base;var _e=te.findPath(t.value||"/");k.valueIn("href",te.normalizeRoute(t.value||"/")),_e&&":href"===s&&_e.links.push(k),k.removeAttribute(s),k.addEventListener("click",function(e){e.preventDefault(),te.navegate?te.navegate(k.href):o.location.href=k.href})}_(t.childNodes)||$(t.childNodes,function(e){l=a,N(e).__e__.$base=t,w.call(A,e,a)}),ee.emit({elem:t,type:u.events.compiled,scope:a})}}N(s);var I=l;"data"in s.__e__&&delete s.__e__.data,v(s.__e__,"data",{configurable:!0,get:function(){return t&&t(I),!0},set:function(){}}),s.$prevent=i.skipAutoCompile||void 0,new Promise(function(e,t){try{s.__e__.$base=s.ownerElement||s.parentNode,w.call(A,s,l),_(i.done)||i.done.call(A,s),e(A)}catch(e){t(T.log(e))}})},V.toElement=E,V.use=function(e){if(!g(e))return T.log("The method 'app.use' expects an array having all the dependencies");C(e,function(e){_(e)||(e.attachedEasyInstance=this,this.dependencies[e.dependencyId||e.constructor.name]=e)},this)},V.call=function(e,t){return g(e)?C(e,function(e,n){if("function"!=typeof e&&!0!==t)return T.log("The item-"+n+" at app.call([ ... ]), is not a `function`, try: [ function(easy){ ... } ] or app.call([ ... ], true) to ignore the null items","warn");e&&e.call(this)},this):T.log("Invalid value, try an array. Eg.: app.call([ ... ])")},K.exec=function(t,n,r,i){try{var o;if(e=function(){o=arguments},r(),o){i||(i={});var a={el:t,layer:n,lastLayer:o[0],property:o[1]};i.keys(function(e,t){a[e]=t}),new K(a)}}catch(e){throw e}finally{h()}},te.findPath=function(e){for(var t in W.paths){var n=W.paths[t];if(n.route){var r=n.route.split("/").map(function(e){return":"===e[0]?"[\\S\\s]{1,}":e}).join("/");if(g(new RegExp("^"+r+"$","gi").exec(e)))return n}}},te.normalizeRoute=function(e){var t=I(e),n=t.anchor.baseURI;return l.usehash?n+="#":t.pathname=t.pathname.substr(1),n+=t.pathname},V.watch=G.exec=function(t,n,r){if(r||(r=A.data),r.hasOwnProperty(t)){var i;e=function(){i=arguments};r[t];return h(),new G({property:i[1],callback:n})}},z.retrieveElems=function(e,t){if(!e)return[];_(t)&&(t=!1);for(var n=[],r=e.previousElementSibling;r&&(!r||!_(r.aId)||e.$id===r.aId);)n.unshift(r),r=r.previousElementSibling;return!0===t&&C(n,function(e){e.aboveMe().removeChild(e)}),n},Z.exec=function(e,t,n){return t||(t="asc"),e.sort(function(e,r){function i(e,n){if(_(e)||_(n))return 0;switch(t.toLowerCase()){case"asc":return e?1:-1;case"des":return n?-1:1;default:return T.log("[BadDefinition]: '"+t+"' is invalid type of order by. Available types are: 'asc' for order ascendent and 'des' for order descendent."),0}}return n?i(e[n]>r[n],r[n]<e[n]):i(e>r,r<e)})},ee.emit=function(e){var t=e.type,n="on:"+t;if(e.elem.hasAttribute&&e.elem.hasAttribute(n)){var r=S.attr(e.elem,[n],!0);if(""===O(r.value))return T.log("[BadDefinition]: Invalid expression in "+r.name);var i=new ee(t,e.elem,{$data:{model:e.model,scope:e.scope},result:e.result});F.addOldAttr({el:e.elem,value:r});var a=b(o,"event");m(o,{event:i},"event");var s=S.eval(r.value,e.scope||{});"function"==typeof s&&s.apply(A,[i]),v(o,"event",a)}},F.setDefault=function(e){var t=e.attr;t.__e__.name||(t.__e__.name=t.nodeName),t.__e__.$oldValue||(t.__e__.$oldValue=t.nodeValue)},F.addOldAttr=function(e){N(e.el);var t=e.el,n=e.value;if(t.__e__.$oldAttrs){if(t.__e__.$oldAttrs.findOne(function(e){return e==n}))return n;t.__e__.$oldAttrs.push(n)}else t.__e__.$oldAttrs=[n]},F.setValue=function(e){var t=d.addToObj(e.scope,e.methods);return H.setNodeValue(e.current,t),C(e.current.__e__.$fields,function(n){K.exec(e.current,e.scope,function(){S.eval(n.exp,t)})})},F.getScopeData=function(e){var n;t=function(e){n=e};do{if(e.__e__)if(!0===e.__e__.data)break}while(e=e.parentNode);return t=void 0,n};try{function ne(){if(this.el=a.node(s||""),!this.el)return T.log("[NotFound]: Element with selector '"+s+"' not found, please check it.");c.mounted.call(this,this.el),F.compile({el:A.el,data:A.data,done:function(){c.loaded.call(A,A.el),H.observer.mutation(function(e){F.compile({el:e,data:F.getScopeData(e)})}).observe(A.el,{childList:!0,subtree:!0})}});var e=this.el.node("[route-view]");e&&(A.routing=te.instance=new te({el:e,includer:W}))}this.setData(c.data),this.data=c.data,this.css(),this.use(c.dependencies),c.config.useDOMLoadEvent?a.addEventListener("DOMContentLoaded",ne.bind(this),!1):ne.call(this)}catch(e){T.log({message:"[InternalError]: Error while initializing. Description: "+e.message,error:e})}}function L(e,t){var n={};if(n.__proto__=Object.create(L.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),n.type=t,n.thrownAt=(new Date).toLocaleString(),w(e))n.message=e;else if(y(e)){for(var r in e)m(n,e,r);Object.defineProperties(n,{message:{enumerable:!0,value:e.message},file:{enumerable:!0,value:e.file||"./index.html"}})}return n.name=e.name||"Error",n.__proto__.toString=function(){return n.message},n}return function(){function e(e,t,n){v((n||Object).prototype,e,{value:t})}function t(e,t,n){var r=u.anm,i=n.toLowerCase().split(":"),o=i[0];return r.to.keys(function(t,n){e.classList.remove(n)}),r.from.keys(function(t,n){e.classList.remove(n)}),e.classList.add(r[t][o]),i[1]||r.reverse(o)}_(Node.prototype.node)&&(e("node",function(e){return e?"#"===e[0]&&this.getElementById?this.getElementById(e.substr(1)):this.querySelector(e):null},Node),e("nodes",function(e){return e?$(this.querySelectorAll(e)):null},Node),e("keys",function(e){var t=this,n=Object.keys(t);return e&&"function"==typeof e&&C(n,function(n){e(n,t[n])}),n}),e("mapObj",function(e,t){var n=this;return _(t)&&(t=!1),e.keys(function(e,r){var i=n[e];if(t&&y(i))g(i)||n[e].mapObj(r,t);else{var o=_(r)?n[e]:r;o!=i&&(n[e]=o)}})}),e("valueIn",function(e,t){return _(t)?null!=e?this[e]||this.getAttribute(e):this.innerText:this.setAttribute(e,t)||this.getAttribute(e)},Element),e("aboveMe",function(e){return function t(n){var r=n.parentNode;if(_(e))return r;if(r===a||_(r))return null;var i=a.createElement("body");return i.innerHTML=r.outerHTML,r.nodeName===i.nodeName?i.innerHTML="":i.children[0].innerHTML="",_(i.querySelector(e))?r.nodeName===i.nodeName?null:t(r):r}(this)},Element),e("hasValue",function(e,t){var n=this;function r(e,n){var r=e,i=n;switch(y(r)||y(i)||(r=A(e),i=A(n),t.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase())),t.comp){case"match":return r.match(i);case"equal":return r===i}}return t=p(t,{ignoreCase:!1,comp:"equal"}),!_(y(n)?n.keys().findOne(function(t){return r(n[t],e)}):r(n,e))}),e("get",function(e){return this.findOne(function(t){return t===e||!!y(t)&&t.hasValue(e)})||(Number.isInteger(e)||w(e)?this[e]:null)},Array),e("findOne",function(e){for(var t,n=this.length,r=0;r<n;r++)if(e(this[r],r)){t=this[r];break}return t},Array),e("index",function(e){var t=this.indexOf(e);return-1===t&&this.findOne(function(n,r){return!(n!==e&&!n.hasValue(e))&&(t=r,!0)}),t},Array),e("indexes",function(e,t){var n=[];return C(this,function(t,r){(t===e||t.hasValue(e))&&n.push(r)}),t&&C(n,function(e){t(e)}),n},Array),e("remove",function(e,t){try{if(_(t)&&(t=!1),e||0===e)if(!0===t)d.array(this).indexes(e,function(e){this.splice(e,1)});else{var n=this.index(e);-1===n&&Number.isInteger(1*e)&&(n=1*e),this.splice(n,1)}else this.pop()}catch(e){T.log({message:"[InternalError]: Remove function error. "+e.message,error:e})}return this},Array),e("niceIn",function(e,n,r,i){var o=this;_(i)&&(i=100);var a=t(o,"to",e);n&&n.niceOut(a),setTimeout(function(){r&&r(o,n)},i)},HTMLElement),e("niceOut",function(e,n,r,i){var o=this;_(i)&&(i=100);var a=t(o,"from",e);n&&n.niceIn(a),setTimeout(function(){r&&r(o,n)},i)},HTMLElement),e("desc",function(){return this.nodeName?d.array(this.nodeName.toLowerCase(),this.id?"#"+this.id:"",$(this.classList).map(function(e){return"."+e})).join(""):this.toString()},Element),e("listen",function(e,t){var n=g(this)?this:[this],r=[];return C(n,function(n){if(!(n instanceof Node)&&n!==o)return T.log("[BadDefinition]: Cannot apply '"+e+"'to the element"+n.desc()+".");var i={event:e,fnCallback:t,callback:function(){arguments[0].base=n,i.fnCallback.apply(i.fnCallback,arguments)},options:!1};n.addEventListener(i.event,i.callback,i.options),r.push({el:n,event:e,callback:i.callback})}),r}),e("replaceAll",function(e,t){var n=this;function r(e,t,n){for(var r=e.length,i=t.length,o="",a=0;a<r;a++)e[a]===t[0]&&e.substr(a,i)===t?(o+=n,a+=i-1):o+=e[a];return o}return _(t)&&(t=""),g(e)?C(e,function(e){n=r(n,e,t)}):n=r(n,e,t),n},String),_(String.prototype.startsWith)&&(e("startsWith",function(e){return this.substr(0,e.length)===e},String),e("endsWith",function(e){return this.substr(this.length-e.length)===e},String),e("includes",function(e){for(var t=0;t<this.length;t++)if(this.substr(t,e.length)===e)return!0;return!1},String)),e("clearSkeleton",function(e){var t='[e-skeleton="'+e+'"]';this.removeAttribute("e-skeleton"),this.nodes&&C(this.nodes(t),function(e){e.removeAttribute("e-skeleton")})},Element))}(),"undefined"==typeof Promise&&(o.Promise=function(e){var t=this;this.status="pending",this.WARN="Do not 'await' this promise, it does not support await keyword.";var n=[],r=[],i=[];function o(e,n){function r(e,n){C(e,function(e){e.call(t,n)})}var o=setTimeout(function(){r(e,n),r(i),clearTimeout(o)},0);return n}return this.then=function(e,i){return n.push(e),_(i)||r.push(i),t},this.catch=function(e,i){return r.push(e),_(i)||n.push(i),t},this.finally=function(e){return i.push(e),t},e(function(e){return t.status="resolved",t.value=e,o(n,e)},function(e){return t.status="rejected",o(r,e)}),t},Promise.resolve=function(e){return new Promise(function(t){return t(e)})},Promise.reject=function(e){return new Promise(function(t,n){return n(e)})}),o.UrlParams=function(e){e||(e=location.href);var t=arguments[1];if(t&&w(t)){var n=e.split("/").reverse();""===n[0]&&n.shift(),C(t.split("/").reverse(),function(e,t){":"===e[0]&&(this[e.substr(1)]=n[t])}.bind(this))}else{var r=e.split("?")[1];if(!r)return this;C(r.split("&"),function(e){var t=e.split("=");this[t[0]]=(t[1]||"").split("#")[0]}.bind(this))}},L.prototype=Object.create(Error.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),T.prototype.http=x,T.prototype.extend=d,T.prototype.return=function(e,t,n,r){return d.addToObj({status:e,message:t,result:n},r)},T});